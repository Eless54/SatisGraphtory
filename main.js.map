{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Loader.jsx","webpack:///./src/components/GraphSvg/constants.jsx","webpack:///./src/components/GraphSvg/mouseEvents.jsx","webpack:///./src/components/GraphSvg/algorithms.jsx","webpack:///./src/components/GraphSvg/util.jsx","webpack:///./src/components/TinyQueue.jsx","webpack:///./src/components/GraphSvg/graphActions.jsx","webpack:///./src/components/GraphSvg/edgeActions.jsx","webpack:///./src/components/GraphSvg/nodeActions.jsx","webpack:///./src/components/GraphSvg/keyboardEvents.jsx","webpack:///./src/components/GraphSvg/markerActions.jsx","webpack:///./src/components/GraphSvg/index.js","webpack:///./src/components/ClickAwayListenerV2.jsx","webpack:///./src/components/SidebarButton.jsx","webpack:///./src/components/PopupDialog.jsx","webpack:///./src/components/FabPopup.jsx","webpack:///./src/components/SidebarPopup.jsx","webpack:///./src/components/InnerNestedSidebarButton.jsx","webpack:///./src/components/NestedSidebarButton.jsx","webpack:///./src/components/SimpleSidebarButton.jsx","webpack:///./src/components/SidebarPanel.jsx","webpack:///./src/components/ClearButton.jsx","webpack:///./src/components/ShareButton.jsx","webpack:///./src/components/SelectorPanel.jsx","webpack:///./src/components/App.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","loading","Loader","props","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","React","Component","previousProps","previousState","ready","parentState","setState","isReady","console","info","_this$props","classes","react_default","a","createElement","Fragment","className","Math","floor","random","withStyles","theme","root","constants","lineObjectClass","lineParentObjectClass","lineHitboxObjectClass","lineStylingPathClass","lineStylingArrowClass","lineStylingFullClass","overclockedTextClass","nodeVersionTextClass","nodeRequirementsIconClass","nodeSurplusIconClass","nodeRequirementsSubIconClass","nodeProducesClass","nodeSurplusClass","nodeProducesPerMinText","nodeLimitingThroughputText","nodeLimitingThroughputClass","lineLimitedThroughputText","lineLimitedThroughputClass","selectedClass","selectedNodeClass","selectedLineClass","connectableClass","graphNodeClass","graphNodeHoverClass","overclockedArcClass","graphNodeGrabbedClass","graphNodeIdBase","svgGraphClass","activeEditId","BACKSPACE_KEY","DELETE_KEY","ENTER_KEY","nodeRadius","round_up","x","factor","round","strongly_connected_components_standalone","graph","index_counter","stack","lowlink","index","keys","forEach","node","includes","_strong_connect","parseInt","toString","successor","undefined","Error","JSON","stringify","min","connected_component","pop","spliceUtil","item","indexOf","inflate","parse","pako","Base64","atob","to","enabledExperimentalFeatures","useExperimentalFeature","featureName","vars","location","href","replace","useExperimentalFeatures","split","TinyQueue","arguments","compare","defaultCompare","TinyQueue_classCallCheck","reheapify","_down","_up","top","bottom","pos","parent","current","halfLength","left","best","right","b","analyzeGraph","_this","optimize","nodeUnion","Set","nodeIn","nodeOut","add","nodeUnionArray","Array","from","nodeLookup","graphData","nodes","filter","elem","id","childProvides","hasSources","containedItems","machine","allowedIn","allowedOut","nodeOutWithSets","map","componentsList","superNodeGraphLookup","superNodeGraphLookupInflated","lookupArray","list","derivedGraphOutgoing","ids","thisNode","derivedGraphAccessor","thisId","derivedGraphIncoming","immutableDerivedGraphIncoming","myTinyQueue","concat","_toConsumableArray","size","providedThroughput","itemLookup","parentAccessor","state","recipe","icon","efficiency","itemThroughPut","itemsPerMinute","internalError","search","workaroundHack","rec","log","itemIconLookup","links","link","tempIndex","forceOverwritable","_loop","thisNodeInflated","outgoing","nodeGroupSource","nodeGroupTarget","origin","targets","nodeGroupSourceThroughput","throughput","nodeSpeed","instance","speed","overclock","provided","purity","fetchedPurity","purities","actualPurity","quantity","time","power","inputs","maxThroughput","source","_defineProperty","optimumOverclock","max","actual","resources","providedSet","provideRaw","provide","maxItemsPerSecLimiter","calculatedItemPerSecond","reconstructionMultiplier","itemPerSec","providedItem","resourceCount","missing","efficiencies","Infinity","overclocks","throughputWithoutOverclock","inp","providedQuantity","bestOverclock","ceil","has","resourceThroughputNeeded","calculatedThroughput","maxThroughputPerItem","totalItemThroughput","totalLinkThroughput","totalItemThroughputByItem","linkPairs","outgoingNode","sources","target","foundLink","localItemThroughput","q","e","tmp","reduce","sort","t1","t2","processingType","remainingItemProcessing","remainingLinkPairs","pair","limitedSpeed","fraction","itemsUsed","itemRaw","itemPerSecBeforeBeltLimiting","limitedItemPerSecByBelt","beltMaxForThisEntry","loopedNodes","itemPerNode","resultantResource","nodeInitial","initialItemPerSec","initialNode","previousOutput","outputIterator","_loop2","visitedNodes","_loop3","theseResources","outNode","delta","v","_ret","graphActions_typeof","visit","nodeId","linkSpeed","totalItems","outerNode","provideByItem","thisProvide","totalCalculated","localModifier","propagateNodeToEdgesRevised","delete","editEfficiencyArc","updateGraph","simulation","graphNodesGroup","graphLinksGroup","_this2","incoming","input_slots","output_slots","open_in_slots","open_out_slot","recalculateStorageContainers","drag","d3","clickDistance","on","graphSvg","shiftHeld","mouseDragSource","active","alphaTarget","restart","wasFixed","fx","fy","dragLine","classed","attr","y","svgGroup","wasMoved","sourceEvent","stopImmediatePropagation","mouseOverNode","addPath","snapToGrid","graphNodesData","selectAll","graphNodesEnter","enter","append","wheelZoomCalculation","node_clicked","remove_select_from_nodes","node_mouse_over","node_mouse_out","node_mouse_down","node_mouse_up","exit","remove","addEfficiencyArc","addNodeImage","insertNodeOverclock","insertNodeTier","insertComponents","merge","graphLinksData","graphLinksEnter","linkFullObject","insertEdgeLabel","pathMouseClick","handleTick","force","callback","deselect_path_and_nodes","selectedPath","selectedNode","k","alpha","calculateLabelPositions","each","vx","edgeActions_toConsumableArray","globalProvideMap","reverseTraversalStack","combinedProvides","combinedProvidesSource","allowed","nodeGroup","propagateNodeToEdgesReversed","passedThis","sourceChecker","targetChecker","specialSource","specialTarget","mergerTarget","mergerSource","targetSlotsUsed","error","path_type","path1","path2","rank","upgrades","path","newEdge","upgradeTypes","usedOut","usedIn","updateGraphHelper","removePath","sharedItems","parentElement","link_label","select","pathLength","getTotalLength","point","getPointAtLength","updateNodeTierExternal","edgeThis","definedColor","linkClass","style","text","previouslySelected","datum","shiftKey","sourceId","percentage_metric","offset","endOffset","endOffsetRaw","percentage","innerRadius","outerRadius","arc","startAngle","PI","endAngle","overClockCalculation","perc","g","updateAllOverclockCalculations","updateOverclock","overclockOverride","selectedElem","roughEstimate","deltaY","textElement","updateNodeTier","machine_version","representation","forceUpdateComponentLabel","elementsToUpdate","itemAccessor","allowedInRemaining","flat","element","fetchRemainingIn","findItem","outputtedItems","remaining","findSuitableSource","allowedOutRemaining","fetchRemainingOut","outputtedItemsIn","findSuitableTarget","nodeThis","containedItem","combinedSum","nodeClass","el","backgroundText","tspan","gEl","svgKeyDown","document","activeElement","nodeName","pressedKey","keyCode","appendMarkerAttributes","marker","GraphSvg","GraphSvg_classCallCheck","GraphSvg_getPrototypeOf","GraphSvg_defineProperty","GraphSvg_assertThisInitialized","nodeData","zoomData","parseSvg","viewCenter","bodyEl","getElementById","width","clientWidth","height","clientHeight","scaleX","translateX","scaleY","translateY","add_node","inputSvg","transition","duration","zoom_handler","transform","vy","GraphSvg_toConsumableArray","Number","NEGATIVE_INFINITY","graphObjects","zoom_actions","scaleExtent","defs","feMerge","distance","strength","radius","initialX","initialY","svg","clearGraphDataRaw","createGraph","compressedData","satisgraphtory","version","playerData","secret","btoa","deflate","Promise","resolve","reject","fetch","method","headers","Content-Type","body","then","response","json","uri","resp","encodeURIComponent","catch","message","saveHash","compressGraphData","loadGraphData","coreGraphData","analyze","prevProps","prevState","snapshot","ClickAwayListenerV2","ClickAwayListenerV2_classCallCheck","ClickAwayListenerV2_possibleConstructorReturn","ClickAwayListenerV2_getPrototypeOf","windowOnClobber","clobberList","clobberedElement","onClickAway","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","querySelectorAll","iterator","next","done","addEventListener","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","removeEventListener","index_es","children","propTypes","PropTypes","isRequired","string","func","SidebarButton","SidebarButton_classCallCheck","SidebarButton_getPrototypeOf","SidebarButton_defineProperty","SidebarButton_assertThisInitialized","event","anchorEl","currentTarget","label","appObject","items","Tooltip_default","tooltip","placement","title","src","tooltipIconFirst","tooltipIcon","tooltipText","MenuItem_default","onClick","machine_nodes","machine_node","node1","node2","machine_class","addNode","dict","handleClose","alt","itemListIcon","grow","_this3","open","Boolean","listItems","Paper_default","paper","Button_default","aria-owns","aria-haspopup","handleMenu","button","RemoveCircle_default","AddCircleOutline_default","Popper_default","popper","_ref","TransitionProps","Grow_default","_extends","transformOrigin","maxHeightPaper","components_ClickAwayListenerV2","clickAwayClose","MenuList_default","flex","justifyContent","padding","margin","spacing","unit","display","paddingLeft","zIndex","paddingRight","fontSize","overflowY","maxHeight","PopupDialog","PopupDialog_classCallCheck","PopupDialog_possibleConstructorReturn","PopupDialog_getPrototypeOf","contents","handleModalClose","Dialog_default","modal","onClose","DialogTitle_default","DialogContent_default","DialogActions_default","color","FabPopup","FabPopup_classCallCheck","FabPopup_getPrototypeOf","FabPopup_assertThisInitialized","dontShow","checked","localStorage","setItem","modalOpen","getItem","Fab_default","aria-label","fab","Help_default","components_PopupDialog","FormControlLabel_default","control","Checkbox_default","onChange","handleDontShow","position","SidebarPopup","SidebarPopup_classCallCheck","SidebarPopup_possibleConstructorReturn","SidebarPopup_getPrototypeOf","Icon","ListItem_default","ListItemIcon_default","icons","ListItemText_default","primary","marginRight","InnerNestedSidebarButton","InnerNestedSidebarButton_classCallCheck","InnerNestedSidebarButton_getPrototypeOf","InnerNestedSidebarButton_defineProperty","InnerNestedSidebarButton_assertThisInitialized","lastTarget","selectedButton","setTimeout","resource","machineIcon","selected","InnerNestedSidebarButton_extends","NestedSidebarButton","NestedSidebarButton_classCallCheck","NestedSidebarButton_getPrototypeOf","NestedSidebarButton_defineProperty","NestedSidebarButton_assertThisInitialized","NestedSidebarButton_extends","ClickAwayListener_default","returnDivList","components_InnerNestedSidebarButton","SimpleSidebarButton","SimpleSidebarButton_classCallCheck","SimpleSidebarButton_getPrototypeOf","SimpleSidebarButton_defineProperty","SimpleSidebarButton_assertThisInitialized","SimpleSidebarButton_extends","SidebarPanel","SidebarPanel_classCallCheck","SidebarPanel_getPrototypeOf","SidebarPanel_defineProperty","SidebarPanel_assertThisInitialized","options","getAttribute","selectedDrives","querySelector","showAllLines","playerUnlock","player_unlock","Typography_default","variant","handleCheckboxChange","checkbox","checkboxLabel","showHideLines","fullWidth","resetCamera","Replay_default","flexDirection","flexShrink","textField","paddingBottom","marginTop","textAlign","chips","flexWrap","chip","paddingTop","fontFamily","fontWeight","ClearButton","ClearButton_classCallCheck","ClearButton_getPrototypeOf","ClearButton_defineProperty","ClearButton_assertThisInitialized","handleModalOpen","Delete_default","dialogContainer","dialogButton","clearGraphData","ShareButton","ShareButton_classCallCheck","ShareButton_getPrototypeOf","ShareButton_defineProperty","ShareButton_assertThisInitialized","uploadDataWithResponse","port","url","protocol","hostname","pathname","join","Share_default","TextField_default","spellCheck","inputRef","ref","inlineDialogButton","execCommand","statusMessage","FileCopy_default","SelectorPanel","SelectorPanel_classCallCheck","SelectorPanel_getPrototypeOf","SelectorPanel_defineProperty","SelectorPanel_assertThisInitialized","wait","immediate","timeout","context","args","callNow","clearTimeout","sliderValue","el2","debounce","update","dummy","debouncedUpdate","IconButton_default","downgrade","ArrowDownward_default","upgrade","ArrowUpward_default","Slider_default","slider","step","changeSlider","formControl","maxWidth","drawerWidth","minWidth","createMuiTheme","typography","useNextVariants","palette","main","secondary","contrastText","themeName","App","App_classCallCheck","App_possibleConstructorReturn","App_getPrototypeOf","loaded","table","tableRef","fbdb","once","results","val","startingTable","starting","globalStructure","regeneratorRuntime","mark","_callee2","wrap","_context2","prev","delegateYield","_callee","refKeysToProcess","refKey","tableName","recursiveFind","_context","str","endsWith","getRefkeyTableFireBase","sent","functionToApply","isArray","App_typeof","row","rowKey","refId","associatedData","possibleData","rowValue","id_name","startsWith","Image","stop","abrupt","_x","ReactGA","reload","hash","decodeURIComponent","responseRaw","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","database","generate","cb","generateRecursiveStructureFireBase","debug","wrappedFunction","isLoaded","_this4","recipesByMachineClass","machineClassPlural","thisList","plural","components_SidebarButton","springByClass","purity_type","spring","spring_type","components_SimpleSidebarButton","_this5","generateUnlocksList","components_NestedSidebarButton","components_Loader","CssBaseline_default","styles","AppBar_default","appBar","Toolbar_default","logo","OfflineBolt_default","SettingsInputComponent_default","components_ShareButton","components_ClearButton","components_FabPopup","components_SelectorPanel","Drawer_default","drawer","drawerPaper","List_default","drawerTitle","generateNodeList","generateSpringList","generateContainerList","Divider_default","components_SidebarPanel","components_SidebarPopup","InfoIcon","WarningIcon","content","components_GraphSvg","flexGrow","flexBasis","toolbar","mixins","pathIcon","pathText","clearButton","ReactDOM","render","components_App"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([463,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react';\nimport {withStyles} from '@material-ui/core';\nimport * as d3 from 'd3';\n\nconst loading = [\n    'Loading...',\n    'Burning Coal...',\n    'Deleting Steam Keys...',\n    'Exploiting Resources...',\n    'Petting Lizard Doggo...',\n    'Adding Pipes...',\n    'Adding Mana...',\n    'Spilling Coffee...',\n    'Becoming A Goat...',\n    'Charging Batteries...'\n];\n\nexport const styles = theme => ({\n    root: {},\n});\n\nclass Loader extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidUpdate(previousProps, previousState) {\n        if (this.props.ready === true && !previousProps.ready) {\n            this.props.parentState.setState({isReady: true}, () => {\n                console.info('App set as \"Ready\"');\n            });\n        }\n    }\n\n    render() {\n        const {ready, parentState, classes} = this.props;\n        return (\n            <React.Fragment>\n                <div className=\"loader-spinner\"/>\n                <div className=\"align-loading\">\n                    <div\n                        className='loading-text align-loading-text'>{loading[Math.floor(Math.random() * loading.length)]}</div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(Loader);","const constants = {\n    lineObjectClass: 'line-object',\n    lineParentObjectClass: 'lineParentObjectClass',\n    lineHitboxObjectClass: 'line-object-hitbox',\n    lineStylingPathClass: 'line-object-path-styled',\n    lineStylingArrowClass: 'line-object-arrow-styled',\n    lineStylingFullClass: 'line-object-combined-styled',\n    overclockedTextClass: 'overclockedTextClass',\n    nodeVersionTextClass: 'nodeVersionTextClass',\n    nodeRequirementsIconClass: 'nodeRequirementsIconClass',\n    nodeSurplusIconClass: 'nodeSurplusIconClass',\n    nodeRequirementsSubIconClass: 'nodeRequirementsSubIconClass',\n    nodeProducesClass: 'nodeProducesClass',\n    nodeSurplusClass: 'nodeSurplusClass',\n    nodeProducesPerMinText: 'nodeProducesPerMinText',\n    nodeLimitingThroughputText: 'nodeLimitingThroughputText',\n    nodeLimitingThroughputClass: 'nodeLimitingThroughputClass',\n\n    lineLimitedThroughputText: 'lineLimitedThroughputText',\n    lineLimitedThroughputClass: 'lineLimitedThroughputClass',\n\n    selectedClass: 'selected',\n    selectedNodeClass: 'selected-node',\n    selectedLineClass: 'selected-line',\n    connectableClass: 'potential-connectable-node',\n    graphNodeClass: 'graphMachineNode',\n    graphNodeHoverClass: 'graphNodeHoverClass',\n    overclockedArcClass: 'overclockedArcClass',\n    graphNodeGrabbedClass: 'graphNodeGrabbedClass',\n    graphNodeIdBase: 'graph-svg-node-',\n    svgGraphClass: 'graph-svg',\n    activeEditId: 'active-editing',\n    BACKSPACE_KEY: 8,\n    DELETE_KEY: 46,\n    ENTER_KEY: 13,\n    nodeRadius: 50\n};\n\nexport default constants;","import {addPath} from './edgeActions';\nimport * as d3 from 'd3';\nimport constants from './constants';\n\n// V2 functions\nexport const drag_start = function (d, simulation, graphSvg) {\n    if (graphSvg.state && graphSvg.state.shiftHeld) {\n        //ignore drag...it's probably not important.\n        graphSvg.setState({mouseDragSource: d});\n    } else {\n        if (!d3.event.active)\n            simulation.alphaTarget(0.3).restart();\n        graphSvg.setState({wasFixed: d.fx !== null && d.fy != null});\n    }\n};\n\n\n//make sure you can't drag the circle outside the box\nexport const drag_drag = (d, graphSvg) => {\n    if (graphSvg.state && graphSvg.state.shiftHeld) {\n        //ignore drag...it's probably not important.\n        graphSvg.dragLine.classed('hidden', false).attr('d', 'M' + d.x + ',' + d.y + 'L' +\n            d3.mouse(graphSvg.svgGroup.node())[0] + ',' + d3.mouse(graphSvg.svgGroup.node())[1]);\n    } else {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n        graphSvg.setState({wasMoved: true});\n    }\n};\n\nconst round_up = function (x, factor) {\n    return Math.round(x / factor) * factor;\n};\n\nexport const drag_end = (d, graphSvg, simulation) => {\n    if (graphSvg.state && graphSvg.state.shiftHeld) {\n        if (graphSvg.state.mouseOverNode) {\n            const source = graphSvg.state.mouseDragSource;\n            const target = graphSvg.state.mouseOverNode;\n            addPath.call(this, graphSvg, graphSvg.state.mouseDragSource, graphSvg.state.mouseOverNode);\n        }\n        graphSvg.dragLine.classed('hidden', true).attr('d', 'M0,0L0,0');\n    } else {\n        if (graphSvg.state && graphSvg.state.wasMoved) {\n            d.x = d.fx;\n            d.y = d.fy;\n\n            if (graphSvg.state.snapToGrid) {\n                if (d.fx) {\n                    d.fx = round_up(d.fx, 100);\n                    d.fy = round_up(d.fy, 100);\n                }\n            }\n        } else if (graphSvg.state && !graphSvg.state.wasFixed) {\n            d.fx = null;\n            d.fy = null;\n        }\n    }\n    d3.select('.' + constants.graphNodeGrabbedClass).classed(constants.graphNodeGrabbedClass, false);\n    graphSvg.setState({shiftHeld: false, wasMoved: false, wasFixed: false});\n};","export const strongly_connected_components = function (graph) {\n    console.error(graph);\n    throw new Error('JKNFDKJNFDJN');\n    const index_counter = ['0'];\n    const stack = [];\n    const lowlink = {};\n    const index = {};\n    const result = [];\n\n    const _strong_connect = function (node) {\n        index[node] = index_counter[0];\n        lowlink[node] = index_counter[0];\n        index_counter[0] = (parseInt(index_counter[0]) + 1).toString();\n        stack.push(node);\n\n        const successors = graph[node] || [];\n        successors.forEach(successor => {\n            if (!Object.keys(index).includes(successor)) {\n                _strong_connect(successor);\n                if (lowlink[node] === undefined || lowlink[successor] === undefined) {\n                    throw new Error('Not defined: ' + node + ' ' + successor + ' ' + JSON.stringify(lowlink));\n                }\n                lowlink[node] = Math.min(parseInt(lowlink[node]), parseInt(lowlink[successor])).toString();\n            } else if (stack.includes(successor)) {\n                if (lowlink[node] === undefined || lowlink[successor] === undefined) {\n                    throw new Error('Not defined: ' + node + ' ' + successor + ' ' + JSON.stringify(lowlink) + ' ' + JSON.stringify(index));\n                }\n                lowlink[node] = Math.min(parseInt(lowlink[node]), parseInt(index[successor])).toString();\n            }\n        });\n\n        if (lowlink[node] === index[node]) {\n            const connected_component = [];\n            /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n            while (true) {\n                const successor = stack.pop();\n                connected_component.push(successor);\n                if (successor === node) break;\n            }\n            result.push(connected_component.slice());\n        }\n    };\n    Object.keys(graph).forEach(node => {\n        if (!Object.keys(index).includes(node)) {\n            _strong_connect(node);\n        }\n    });\n\n    return result;\n};\n\nconst remove_node = function (G, target) {\n    delete G[target];\n    const values = Object.keys(G).map(key => G[key]);\n    values.forEach(value => {\n        value.delete(target);\n    });\n};\n\nconst subgraphs = function (G, vertices) {\n    const returnMap = {};\n    vertices.forEach(v => {\n        const gvarray = Array.from(G[v]);\n        const filtered = gvarray.filter(elem => vertices.has(elem));\n\n\n        returnMap[v] = new Set(filtered);\n    });\n    return returnMap;\n};\n\nexport const strongly_connected_components_standalone = function (graph) {\n    const index_counter = ['0'];\n    const stack = [];\n    const lowlink = {};\n    const index = {};\n    const result = [];\n\n    const _strong_connect = function (node) {\n        index[node] = index_counter[0];\n        lowlink[node] = index_counter[0];\n        index_counter[0] = (parseInt(index_counter[0], 10) + 1).toString();\n        stack.push(node);\n\n        const successors = graph[node] || [];\n        successors.forEach(successor => {\n            if (!Object.keys(index).includes(successor)) {\n                _strong_connect(successor);\n                if (lowlink[node] === undefined || lowlink[successor] === undefined) {\n                    throw new Error('Not defined: ' + node + ' ' + successor + ' ' + JSON.stringify(lowlink));\n                }\n                lowlink[node] = Math.min(parseInt(lowlink[node], 10), parseInt(lowlink[successor], 10)).toString();\n            } else if (stack.includes(successor)) {\n                if (lowlink[node] === undefined || lowlink[successor] === undefined) {\n                    throw new Error('Not defined: ' + node + ' ' + successor + ' ' + JSON.stringify(lowlink) + ' ' + JSON.stringify(index));\n                }\n                lowlink[node] = Math.min(parseInt(lowlink[node], 10), parseInt(index[successor], 10)).toString();\n            }\n        });\n\n        if (lowlink[node] === index[node]) {\n            const connected_component = [];\n            /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n            while (true) {\n                const successor = stack.pop();\n                connected_component.push(successor);\n                if (successor === node) break;\n            }\n            result.push(connected_component.slice());\n        }\n    };\n    Object.keys(graph).forEach(node => {\n        if (!Object.keys(index).includes(node)) {\n            _strong_connect(node);\n        }\n    });\n\n    return result;\n};\n\nexport const simple_cycle = function (Ginput) {\n    const _unblock = function (thisnode, blocked, B) {\n        const stack = new Set([thisnode]);\n        while (stack.size) {\n            const node = stack.values().next().value;\n            stack.delete(node);\n            if (blocked.has(node)) {\n                blocked.delete(node);\n                if (!B[node]) {\n                    B[node] = new Set();\n                }\n                B[node].forEach(elem => {\n                    stack.add(elem);\n                });\n                B[node].clear();\n            }\n        }\n    };\n\n\n    const G = {};\n    Object.keys(Ginput).forEach(key => {\n        G[key] = new Set(Ginput[key].map(elem => elem.toString()));\n    });\n\n    const sccs = strongly_connected_components(G);\n    const returnValues = [];\n    while (sccs.length) {\n        const scc = sccs.pop();\n        const startnode = scc.pop();\n        const path = [startnode];\n        const blocked = new Set();\n        const closed = new Set();\n        blocked.add(startnode);\n        const B = {};\n        const stack = [[startnode, Array.from(G[startnode] || new Set())]];\n        while (stack.length) {\n            const [thisnode, nbrs] = stack[stack.length - 1];\n            if (nbrs && nbrs.length) {\n                const nextnode = nbrs.pop();\n                if (nextnode === startnode) {\n                    returnValues.push(path.slice().map(elem => parseInt(elem)));\n                    path.forEach(node => {\n                        closed.add(node);\n                    });\n                } else if (!blocked.has(nextnode)) {\n                    path.push(nextnode);\n                    stack.push([nextnode, Array.from(G[nextnode] || new Set())]);\n                    closed.delete(nextnode);\n                    blocked.add(nextnode);\n                }\n            } else {\n                if (closed.has(thisnode)) {\n                    _unblock(thisnode, blocked, B);\n                } else {\n                    (G[thisnode] || []).forEach(nbr => {\n                        B[nbr] = B[nbr] || new Set();\n                        if (!B[nbr].has(nbr)) {\n                            B[nbr].add(thisnode);\n                        }\n                    });\n                }\n\n                stack.pop();\n                path.pop();\n            }\n        }\n\n        remove_node(G, startnode);\n        const H = subgraphs(G, new Set(scc));\n        const toAdd = strongly_connected_components(H);\n        toAdd.forEach(elem => {\n            sccs.push(elem);\n        });\n    }\n    return returnValues;\n};\n\n// how to remove dups\n\n//to generate the specific indexes\n// pos = myArray.map(function(e) { return e.hello; }).indexOf('stevie');\n\n\n// var a = [1, 2, 3], b = [101, 2, 1, 10];\n// var c = a.concat(b);\n// var d = c.filter(function (item, pos) {return c.indexOf(item) == pos});","import {parse} from 'flatted/esm';\nimport pako from 'pako';\nimport Base64 from 'Base64';\n\nexport const spliceUtil = function (object, item) {\n    if (object.indexOf(item) === -1) return;\n    object.splice(object.indexOf(item), 1);\n};\n\nconst inflate = (data) => parse(pako.inflate(Base64.atob(data), {to: 'string'}));\n\nexport const saveHash = (data) => {\n    if (process.env.NODE_ENV && process.env.NODE_ENV !== 'production') {\n        console.log(data.data);\n    }\n    return new Promise((resolve, reject) => {\n        return fetch('https://api.myjson.com/bins/', {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n        }).then(response => response.json()).then(function (response) {\n            if (response.uri) {\n                const resp = response.uri.replace('https:\\/\\/api.myjson.com/bins//', '');\n                return resolve(encodeURIComponent(Base64.btoa(resp)));\n            }\n            throw new Error(\"Invalid save\");\n        })\n            .catch(function (error) {\n                console.log('Fetch error:', error.message);\n                reject(error);\n            });\n    })\n};\n\nconst data = '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';\n\nexport const loadHash = () => {\n    return new Promise((resolve, reject) => {\n\n        if (window.location.hash) {\n            let location = null;\n            if (window.location.hash.indexOf('?') === -1) {\n                location = window.location.hash.slice(1);\n            } else {\n                location = window.location.hash.slice(1, window.location.hash.indexOf('?'));\n            }\n\n            return fetch('https://api.myjson.com/bins//' + Base64.atob(decodeURIComponent(location)), {\n                method: \"GET\"\n            }).then(response => response.json()).then(function (responseRaw) {\n                resolve(inflate(responseRaw.data));\n            })\n                .catch(function (error) {\n                    console.log('Fetch error:', error.message);\n                    resolve(inflate(data));\n                });\n        } else {\n            resolve(inflate(data));\n        }\n    })\n};\n\nexport const rebuildQueryParams = () => {\n    const vars = {};\n    window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n        vars[key] = value;\n    });\n    if (Object.keys(vars).length) {\n        return '?' + Object.keys(vars).map(k => k + '=' + vars[k]).join('&');\n    }\n\n    return '';\n};\n\nconst enabledExperimentalFeatures = ['stg', 'opt'];\n\nexport const useExperimentalFeature = (featureName) => {\n    const vars = {};\n    window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n        vars[key] = value;\n    });\n    vars.useExperimentalFeatures = vars.useExperimentalFeatures || '';\n    return (vars.useExperimentalFeatures || '').split(',').includes(featureName) || vars.useExperimentalFeatures === 'all' || enabledExperimentalFeatures.includes(featureName)\n};\n","import {spliceUtil} from \"./GraphSvg/util\";\n\nexport default class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        this.reheapify();\n    }\n\n    reheapify() {\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    size() {\n        return this.data.length;\n    }\n\n    remove(item) {\n        spliceUtil(this.data, item);\n        this.length = this.data.length;\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}","import constants from './constants';\nimport * as d3 from 'd3';\nimport {\n    addEfficiencyArc,\n    addNodeImage,\n    editEfficiencyArc,\n    insertComponents,\n    insertNodeOverclock,\n    insertNodeTier,\n    node_clicked,\n    node_mouse_down,\n    node_mouse_out,\n    node_mouse_over,\n    node_mouse_up,\n    remove_select_from_nodes,\n    wheelZoomCalculation\n} from './nodeActions';\nimport {drag_drag, drag_end, drag_start} from './mouseEvents';\nimport {calculateLabelPositions, insertEdgeLabel, pathMouseClick, recalculateStorageContainers} from './edgeActions';\nimport {strongly_connected_components_standalone} from './algorithms';\nimport TinyQueue from '../TinyQueue';\n\n\nexport const analyzeGraph = function (optimize=false) {\n    const nodeUnion = new Set(Object.keys(this.nodeIn));\n    Object.keys(this.nodeOut).forEach(node => nodeUnion.add(node));\n    const nodeUnionArray = Array.from(nodeUnion);\n\n    const nodeLookup = {};\n\n    nodeUnionArray.forEach((value, index) => {\n        nodeUnionArray[index] = this.graphData.nodes.filter(elem => elem.id.toString() === value)[0];\n        nodeLookup[nodeUnionArray[index].id] = nodeUnionArray[index];\n        nodeUnionArray[index].childProvides = [];\n        nodeUnionArray[index].hasSources = new Set();\n        nodeUnionArray[index].containedItems = [];\n\n        if (nodeUnionArray[index].machine.name !== 'Container' && nodeUnionArray[index].machine.name !== 'Logistic') {\n        } else {\n            nodeUnionArray[index].allowedIn = [];\n            nodeUnionArray[index].allowedOut = [];\n        }\n    });\n\n    const nodeOutWithSets = {};\n    Object.keys(this.nodeOut).forEach(key => {\n        const value = this.nodeOut[key];\n        nodeOutWithSets[key] = new Set(value.map(elem => elem.id.toString()));\n    });\n\n    const componentsList = strongly_connected_components_standalone(nodeOutWithSets);\n    const superNodeGraphLookup = {};\n    const superNodeGraphLookupInflated = {};\n    const lookupArray = {};\n    componentsList.forEach((list, index) => {\n        superNodeGraphLookup[index] = list;\n        superNodeGraphLookupInflated[index] = list.map(id => nodeLookup[id]);\n        list.forEach(item => {\n            lookupArray[item] = index;\n        });\n    });\n    const derivedGraphOutgoing = {};\n\n    // Derive a graph from this new info\n    Object.keys(this.nodeOut).forEach(node => {\n        const ids = this.nodeOut[node].map(item => item.id);\n        const thisNode = lookupArray[node];\n        derivedGraphOutgoing[thisNode] = derivedGraphOutgoing[thisNode] || new Set();\n        const derivedGraphAccessor = derivedGraphOutgoing[thisNode];\n        ids.forEach(id => {\n            const thisId = lookupArray[id];\n            if (thisId === thisNode) return;\n            derivedGraphAccessor.add(thisId);\n        });\n    });\n    const derivedGraphIncoming = {};\n    const immutableDerivedGraphIncoming = {};\n\n    // Derive a graph from this new info\n    Object.keys(this.nodeOut).forEach(node => {\n        const ids = this.nodeOut[node].map(item => item.id);\n        const thisNode = lookupArray[node];\n        derivedGraphIncoming[thisNode] = derivedGraphIncoming[thisNode] || new Set();\n        immutableDerivedGraphIncoming[thisNode] = immutableDerivedGraphIncoming[thisNode] || new Set();\n        ids.forEach(id => {\n            const thisId = lookupArray[id];\n            if (thisId === thisNode) return;\n\n            if (!derivedGraphIncoming[thisId]) {\n                derivedGraphIncoming[thisId] = new Set();\n                immutableDerivedGraphIncoming[thisId] = new Set();\n            }\n\n            const derivedGraphAccessor = derivedGraphIncoming[thisId];\n            derivedGraphAccessor.add(thisNode);\n            immutableDerivedGraphIncoming[thisId].add(thisNode);\n        });\n    });\n    const myTinyQueue = new TinyQueue(Array.from(new Set([...Object.keys(derivedGraphOutgoing), ...Object.keys(derivedGraphIncoming)])), (a, b) => {\n        return (derivedGraphIncoming[a] || []).size - (derivedGraphIncoming[b] || []).size;\n    });\n\n    const providedThroughput = {};\n\n    const itemLookup = {};\n\n    this.props.parentAccessor.state.recipe.item.forEach(item => {\n        itemLookup[item.id] = item.icon;\n    });\n\n    this.graphData.nodes.forEach(node => {\n        delete node.efficiency;\n        delete node.itemThroughPut;\n        delete node.itemsPerMinute;\n        delete node.internalError;\n\n        if (node.data && node.data.recipe && !node.data.node && this.props.parentAccessor.state && this.props.parentAccessor.state.recipe && this.props.parentAccessor.state.recipe.recipe) {\n            if (window.location.search.indexOf('thankYouStay=veryYes') > -1) {\n                const workaroundHack = this.props.parentAccessor.state.recipe.recipe.filter(rec => rec.id === node.data.recipe.id);\n                if (workaroundHack.length > 0) {\n                    node.data.recipe = workaroundHack[0];\n                }\n                console.log('Replaced recipe', workaroundHack[0]);\n            }\n        }\n\n        node.itemIconLookup = itemLookup;\n    });\n\n    this.graphData.links.forEach(link => {\n        delete link.itemThroughPut;\n        delete link.tempIndex;\n        delete link.forceOverwritable;\n        link.itemIconLookup = itemLookup;\n    });\n\n\n    while (myTinyQueue.size()) {\n        const node = myTinyQueue.pop();\n\n        const thisNodeInflated = superNodeGraphLookupInflated[node];\n        const outgoing = Array.from(derivedGraphOutgoing[node] || new Set());\n        const outgoingInflated = outgoing.map(item => superNodeGraphLookupInflated[item]);\n\n        const propagateNodeToEdgesRevised = (nodeGroupSource, nodeGroupTarget, origin, targets) => {\n            const nodeGroupSourceThroughput = [];\n            if (nodeGroupSource.length === 1) {\n                const node = nodeGroupSource[0];\n                let throughput = null;\n                let efficiency = null;\n\n                const nodeSpeed = node.instance.speed / 100;\n                const overclock = node.overclock / 100;\n\n                const provided = providedThroughput[node.id] || [];\n\n                if (node.data.node) {\n                    // this is a purity calculation\n                    const recipe = node.data.recipe;\n                    const purity = node.data.purity;\n                    const fetchedPurity = recipe.purities.filter(item => item.name === purity);\n\n                    if (fetchedPurity.length !== 1) {\n                        throw new Error('Trying to get purity', purity, 'wtf?');\n                    }\n                    const actualPurity = fetchedPurity[0];\n\n                    throughput = {\n                        speed: nodeSpeed,\n                        overclock,\n                        quantity: actualPurity.quantity,\n                        item: recipe.item.id,\n                        time: 60,\n                        power: node.instance.power,\n                        inputs: []\n                    };\n                    efficiency = 1;\n\n                    const maxThroughput = (throughput.quantity / throughput.time) * 60 * node.instance.speed / 100 * throughput.overclock;\n                    nodeGroupSourceThroughput.push({throughput, efficiency, source: origin});\n\n                    nodeGroupSource.forEach(node => {\n                        node.efficiency = efficiency;\n                        node.itemsPerMinute = {[throughput.item]: maxThroughput};\n                        node.optimumOverclock = 2.5;\n                        // Comment this out if we should remove the display from nodes\n                        node.itemThroughPut = {[throughput.item]: {max: maxThroughput, actual: maxThroughput}};\n                    });\n                } else if (node.machine.name === 'Logistic' && node.instance.name === 'Splitter') {\n                    const resources = {};\n                    const providedSet = new Set();\n                    provided.forEach(provideRaw => {\n                        const provide = JSON.parse(JSON.stringify(provideRaw));\n\n                        //TODO: change the 3 to the actual number of links out\n                        provide.maxItemsPerSecLimiter = provide.calculatedItemPerSecond;\n                        // / ((this.nodeOut[nodeGroupSource[0].id] || []).length || 1);\n\n                        provide.reconstructionMultiplier = ((this.nodeOut[nodeGroupSource[0].id] || []).length || 1);\n\n                        const i = provide.throughput.item;\n                        providedSet.add(i);\n                        const itemPerSec = provide.calculatedItemPerSecond;\n                        resources[i] = resources[i] || 0;\n                        resources[i] += itemPerSec * 60;\n\n                        nodeGroupSourceThroughput.push(provide);\n                    });\n\n                    nodeGroupSource.forEach(node => {\n                        node.efficiency = 1;\n                        node.itemsPerMinute = {};\n                        node.itemThroughPut = {};\n                        providedSet.forEach(providedItem => {\n                            const resourceCount = resources[providedItem];\n                            node.itemsPerMinute[providedItem] = resourceCount;\n                            node.itemThroughPut[providedItem] = {max: resourceCount, actual: resourceCount};\n                        });\n                    });\n                } else if (node.machine.name === 'Logistic' && node.instance.name === 'Merger') {\n                    const resources = {};\n                    const providedSet = new Set();\n                    provided.forEach(provideRaw => {\n                        const provide = JSON.parse(JSON.stringify(provideRaw));\n                        const i = provide.throughput.item;\n                        providedSet.add(i);\n                        const itemPerSec = provide.calculatedItemPerSecond;\n                        resources[i] = resources[i] || 0;\n                        resources[i] += itemPerSec * 60;\n                        nodeGroupSourceThroughput.push(provide);\n                    });\n\n                    nodeGroupSource.forEach(node => {\n                        node.efficiency = 1;\n                        node.itemsPerMinute = {};\n                        node.itemThroughPut = {};\n                        providedSet.forEach(providedItem => {\n                            const resourceCount = resources[providedItem];\n                            node.itemsPerMinute[providedItem] = resourceCount;\n                            node.itemThroughPut[providedItem] = {max: resourceCount, actual: resourceCount};\n                        });\n                    });\n                } else if (node.machine.name === 'Container') {\n                    const resources = {};\n                    const providedSet = new Set();\n                    provided.forEach(provide => {\n                        const i = provide.throughput.item;\n                        providedSet.add(i);\n                        const itemPerSec = provide.calculatedItemPerSecond;\n                        resources[i] = resources[i] || 0;\n                        resources[i] += itemPerSec * 60;\n                        nodeGroupSourceThroughput.push(provide);\n                    });\n\n                    nodeGroupSource.forEach(node => {\n                        node.efficiency = 1;\n                        node.itemsPerMinute = {};\n                        providedSet.forEach(providedItem => {\n                            const resourceCount = resources[providedItem];\n                            node.itemsPerMinute[providedItem] = resourceCount;\n                            node.itemThroughPut = {[providedItem]: {max: resourceCount, actual: resourceCount}};\n                        });\n                    });\n                } else {\n                    throughput = {\n                        speed: nodeSpeed,\n                        overclock,\n                        quantity: node.data.recipe.quantity,\n                        item: node.data.recipe.item.id,\n                        time: node.data.recipe.time,\n                        power: node.data.recipe.power,\n                        inputs: node.data.recipe.inputs.map(elem => {\n                            return {item: elem.item.id, quantity: elem.quantity};\n                        })\n                    };\n\n                    const resources = {};\n\n                    const providedSet = new Set();\n\n                    provided.forEach(provide => {\n                        const i = provide.throughput.item;\n\n                        providedSet.add(i);\n\n                        const itemPerSec = provide.calculatedItemPerSecond;\n\n                        resources[i] = resources[i] || 0;\n                        resources[i] += itemPerSec * 60;\n                    });\n\n                    const missing = new Set();\n                    const efficiencies = [Infinity];\n                    const overclocks = [2.5];\n\n                    const throughputWithoutOverclock = (throughput.quantity / throughput.time) * 60 * node.instance.speed / 100;\n\n                    throughput.inputs.forEach(inp => {\n                        const item = inp.item;\n                        const quantity = inp.quantity;\n                        const providedQuantity = resources[item] || 0;\n                        const bestOverclock = Math.min((providedQuantity / (throughputWithoutOverclock || 1)) * (throughput.quantity / (quantity || 1)), 2.5);\n                        overclocks.push(bestOverclock);\n                    });\n\n                    const optimumOverclock = Math.ceil(Math.min(...overclocks) * 100);\n                    if (optimize) {\n                        throughput.overclock = optimumOverclock / 100;\n                    }\n\n                    const maxThroughput = (throughput.quantity / throughput.time) * 60 * node.instance.speed / 100 * throughput.overclock;\n\n                    throughput.inputs.forEach(inp => {\n                        const item = inp.item;\n                        const quantity = inp.quantity;\n                        const providedQuantity = resources[item] || 0;\n                        if (!providedSet.has(item)) {\n                            missing.add(item);\n                        }\n\n                        const resourceThroughputNeeded = maxThroughput * (quantity / throughput.quantity);\n\n                        const calculatedThroughput = maxThroughput * (Math.min(resourceThroughputNeeded, providedQuantity) / resourceThroughputNeeded);\n                        const maxThroughputPerItem = resourceThroughputNeeded;\n\n                        node.itemThroughPut = node.itemThroughPut || {};\n                        node.itemThroughPut[item] = node.itemThroughPut[item] || {max: 0, actual: 0};\n                        node.itemThroughPut[item].max += maxThroughputPerItem;\n                        node.itemThroughPut[item].actual += providedQuantity;\n\n                        const efficiency = calculatedThroughput / maxThroughput;\n\n                        efficiencies.push(Math.min(1, efficiency));\n                    });\n\n                    if (missing.size > 0) {\n                        efficiency = 0;\n                    } else {\n                        efficiency = Math.min(...efficiencies);\n                    }\n\n                    nodeGroupSourceThroughput.push({throughput, efficiency, source: origin});\n\n                    nodeGroupSource.forEach(node => {\n                        node.efficiency = efficiency;\n                        node.overclock = throughput.overclock * 100;\n                        node.optimumOverclock = optimumOverclock;\n                        node.itemsPerMinute = {[throughput.item]: maxThroughput * efficiency};\n                    });\n                }\n\n                let totalItemThroughput = 0;\n                let totalLinkThroughput = 0;\n                let totalItemThroughputByItem = {};\n\n                let linkPairs = [];\n\n                (derivedGraphOutgoing[origin] || []).forEach(outgoingNode => {\n                    const sources = nodeGroupSource.map(node => node.id);\n                    const targets = superNodeGraphLookupInflated[outgoingNode].map(node => node.id);\n\n                    sources.forEach(source => {\n                        targets.forEach(target => {\n                            const link = this.graphData.links.filter(link => link.source.id === source && link.target.id === target);\n                            let foundLink = null;\n                            if (link && link.length === 1) {\n                                foundLink = link[0];\n                            } else if (link && link.length > 1) {\n                                throw new Error('Too many links found!!!');\n                            } else {\n                                return;\n                            }\n\n                            linkPairs.push({source, target, speed: foundLink.instance.speed, link: foundLink});\n                            totalLinkThroughput += foundLink.instance.speed;\n                        });\n                    });\n                });\n\n                const localItemThroughput = nodeGroupSourceThroughput.map(throughput => {\n\n                    const q = throughput.throughput.quantity;\n                    const t = throughput.throughput.time;\n                    const e = throughput.efficiency;\n                    const o = throughput.throughput.overclock;\n                    const s = throughput.throughput.speed;\n                    const i = throughput.throughput.item;\n\n                    const maxItemsPerSecLimiter = throughput.maxItemsPerSecLimiter === undefined ? Infinity : throughput.maxItemsPerSecLimiter;\n                    const tmp = Math.min(q / t * e * o * s || 0, maxItemsPerSecLimiter);\n\n                    totalItemThroughputByItem[i] = totalItemThroughputByItem[i] || 0;\n                    totalItemThroughputByItem[i] += tmp;\n\n                    return tmp;\n                }).reduce((a, b = 0) => a + b, 0);\n\n                totalItemThroughput += localItemThroughput;\n\n                linkPairs.sort(\n                    (t1, t2) => {\n                        return t1.speed - t2.speed;\n                    }\n                );\n\n                let processingType = 1;\n                if (totalItemThroughput * 60 > totalLinkThroughput) {\n                    // split proportioanly the totalItemThroughput\n                } else {\n                    processingType = 0;\n                    //fill things sequentiually\n                }\n\n\n                let remainingItemProcessing = totalItemThroughput * 60;\n                let remainingLinkPairs = linkPairs.length;\n                linkPairs.forEach(pair => {\n                    const target = pair.target;\n                    const limitedSpeed = pair.speed;\n\n                    providedThroughput[target] = providedThroughput[target] || [];\n                    if (processingType === 1) {\n                        // split everything\n                        // fraction of this belt of ALL belts:\n                        const fraction = limitedSpeed / (totalLinkThroughput);\n                        pair.fraction = fraction;\n                    } else {\n                        if (remainingItemProcessing / remainingLinkPairs > limitedSpeed) {\n                            // there will be residuals\n                            const itemsUsed = limitedSpeed;\n                            remainingItemProcessing -= itemsUsed;\n                            const fraction = limitedSpeed / (totalItemThroughput * 60);\n                            pair.fraction = fraction;\n                        } else {\n                            // no residuals.\n                            const itemsUsed = remainingItemProcessing / remainingLinkPairs;\n                            remainingItemProcessing -= itemsUsed;\n                            const fraction = itemsUsed / (totalItemThroughput * 60);\n                            pair.fraction = fraction;\n                        }\n                    }\n                    remainingLinkPairs -= 1;\n                });\n\n                linkPairs.forEach(pair => {\n                    const source = pair.source;\n                    const target = pair.target;\n                    const speed = pair.speed;\n                    const foundLink = pair.link;\n                    const fraction = pair.fraction || 1;\n                    const limitedSpeed = speed;\n\n                    providedThroughput[target] = providedThroughput[target] || [];\n\n                    nodeGroupSourceThroughput.forEach(itemRaw => {\n                        const throughput = JSON.parse(JSON.stringify(itemRaw));\n                        const q = throughput.throughput.quantity;\n                        const t = throughput.throughput.time;\n                        const e = throughput.efficiency;\n                        const o = throughput.throughput.overclock;\n                        const s = throughput.throughput.speed;\n                        const i = throughput.throughput.item;\n                        //check propagated limited\n                        const maxItemsPerSecLimiter = throughput.maxItemsPerSecLimiter === undefined ? Infinity : throughput.maxItemsPerSecLimiter;\n\n                        let itemPerSecBeforeBeltLimiting = Math.min(q / t * e * o * s || 0, maxItemsPerSecLimiter);\n\n                        // need to do some weird math to constrain the items/psec to a PORTION of the belt limited\n                        const limitedItemPerSecByBelt = limitedSpeed / 60;\n\n                        const beltMaxForThisEntry = limitedItemPerSecByBelt * 60;\n\n                        throughput.maxItemsPerSecLimiter = Math.min(limitedItemPerSecByBelt * (maxItemsPerSecLimiter / totalItemThroughput), beltMaxForThisEntry * (maxItemsPerSecLimiter / totalItemThroughput), limitedItemPerSecByBelt, maxItemsPerSecLimiter, itemPerSecBeforeBeltLimiting * fraction);\n                        throughput.calculatedItemPerSecond = throughput.maxItemsPerSecLimiter;\n\n                        foundLink.itemThroughPut = foundLink.itemThroughPut || {};\n                        foundLink.itemThroughPut[i] = foundLink.itemThroughPut[i] || {max: 0, actual: 0};\n                        foundLink.itemThroughPut[i].max += (itemPerSecBeforeBeltLimiting / (totalItemThroughput || 1)) * beltMaxForThisEntry;\n                        foundLink.itemThroughPut[i].actual += itemPerSecBeforeBeltLimiting * 60 * fraction;\n\n                        providedThroughput[target].push(throughput);\n                    });\n                })\n            } else {\n                const loopedNodes = new Set();\n                nodeGroupSource.forEach((node) => {\n                    loopedNodes.add(node.id);\n                    const provided = providedThroughput[node.id] || [];\n                    provided.forEach(provideRaw => {\n                        const provide = JSON.parse(JSON.stringify(provideRaw));\n                        nodeGroupSourceThroughput.push(provide);\n                    });\n                });\n\n                const visit = (nodeInitial, provide, loopedNodes) => {\n                    let i = 0;\n\n                    let initialItemPerSec = provide.calculatedItemPerSecond;\n\n                    let resources = {[nodeInitial.id]: initialItemPerSec * 60};\n                    const initialNode = nodeInitial.id;\n                    let previousOutput = {[nodeInitial.id]: initialItemPerSec * 60};\n                    let outputIterator = {[nodeInitial.id]: initialItemPerSec * 60};\n                    let iteratorTemp = initialItemPerSec * 60;\n                    while (i < 999) {\n                        const visitedNodes = new Set();\n                        const stack = [nodeInitial];\n                        visitedNodes.add(nodeInitial.id);\n                        while (stack.length) {\n                            const node = stack.pop();\n\n                            let theseResources = resources[node.id];\n\n                            if (node.machine.name === 'Logistic' && node.instance.name === 'Splitter') {\n                                theseResources = theseResources / ((this.nodeOut[node.id] || []).length || 1);\n                            } else if (node.machine.name === 'Logistic' && node.instance.name === 'Merger') {\n\n                            } else if (node.machine.name === 'Container') {\n\n                            }\n\n                            this.nodeOut[node.id].forEach(outNode => {\n                                if (!loopedNodes.has(outNode.id)) {\n                                    return;\n                                }\n\n                                const links = this.graphData.links.filter(link => link.source.id === node.id && link.target.id === outNode.id);\n                                if (links && links.length !== 1) {\n                                    throw new Error('Too many links found!!!');\n                                }\n                                const link = links[0];\n                                const limitedSpeed = link.instance.speed;\n                                resources[outNode.id] = resources[outNode.id] || 0;\n                                resources[outNode.id] += (theseResources);\n                            });\n\n                            (this.nodeOut[node.id] || []).forEach(outNode => {\n                                if (!visitedNodes.has(outNode.id) && loopedNodes.has(outNode.id)) {\n                                    visitedNodes.add(outNode.id);\n                                    stack.push(outNode);\n                                }\n                            });\n\n                        }\n\n                        const delta = resources[initialNode] - previousOutput[initialNode];\n\n                        if (!nodeGroupTarget.length || delta > previousOutput || Math.round(delta * 1000000) === 0 || i === 998) {\n                            Object.keys(resources).forEach(key => {\n                                outputIterator[key] = Math.round(100 * outputIterator[key]) / 100;\n                            });\n                            return outputIterator;\n                        } else {\n\n                            iteratorTemp += delta;\n\n                            resources[initialNode] -= previousOutput[initialNode];\n\n                            Object.keys(resources).forEach(key => {\n                                outputIterator[key] = outputIterator[key] || 0;\n                                outputIterator[key] += resources[key];\n                            });\n\n                            previousOutput[initialNode] = delta; // rabbit and the hare.\n                            resources = {[initialNode]: delta};\n                            i++;\n                        }\n                    }\n                };\n\n                const itemPerNode = {};\n                nodeGroupSource.forEach((node) => {\n                    const providedThroughputFromOthers = JSON.parse(JSON.stringify(providedThroughput[node.id] || []));\n                    providedThroughputFromOthers.forEach(provide => {\n                        const resultantResource = visit(node, provide, loopedNodes);\n                        const item = provide.throughput.item;\n                        Object.keys(resultantResource || []).forEach(nodeId => {\n                            itemPerNode[nodeId] = itemPerNode[nodeId] || {};\n                            itemPerNode[nodeId][item] = itemPerNode[nodeId][item] || 0;\n                            itemPerNode[nodeId][item] += resultantResource[nodeId];\n                        });\n                    });\n                });\n\n                nodeGroupSource.forEach((node) => {\n                    this.nodeOut[node.id].forEach(outNode => {\n\n                        if (!loopedNodes.has(outNode.id)) {\n                            return;\n                        }\n\n                        const links = this.graphData.links.filter(link => link.source.id === node.id && link.target.id === outNode.id);\n                        if (links && links.length !== 1) {\n                            throw new Error('Too many links found!!!');\n                        }\n                        const foundLink = links[0];\n                        const linkSpeed = foundLink.instance.speed;\n\n                        const totalItems = Object.keys(itemPerNode[node.id] || {}).map(item => itemPerNode[node.id][item]).reduce((a, b = 0) => a + b, 0);\n\n                        Object.keys(itemPerNode[node.id] || {}).forEach(item => {\n                            const q = itemPerNode[node.id][item];\n                            foundLink.itemThroughPut = foundLink.itemThroughPut || {};\n                            foundLink.itemThroughPut[item] = foundLink.itemThroughPut[item] || {max: 0, actual: 0};\n                            foundLink.itemThroughPut[item].max = (q / (totalItems || 1) * linkSpeed);\n                            foundLink.itemThroughPut[item].actual += (q / ((this.nodeOut[node.id] || []).length || 1));\n                            foundLink.forceOverwritable = true;\n                        });\n                    });\n                });\n\n                nodeGroupSource.forEach((outerNode) => {\n                    outerNode.itemsPerMinute = {};\n                    outerNode.efficiency = 1;\n                    nodeGroupSource.forEach((node) => {\n                        const provided = providedThroughput[node.id] || [];\n                        provided.forEach(provideRaw => {\n                            const provide = JSON.parse(JSON.stringify(provideRaw));\n                            const item = provide.throughput.item;\n                            outerNode.itemsPerMinute[item] = (itemPerNode[outerNode.id][item] || 0);\n                        });\n                    });\n                });\n\n                (derivedGraphOutgoing[origin] || []).forEach(outgoingNode => {\n                    const sources = nodeGroupSource.map(node => node.id);\n                    const targets = superNodeGraphLookupInflated[outgoingNode].map(node => node.id);\n\n                    sources.forEach(source => {\n                        targets.forEach(target => {\n\n                            const link = this.graphData.links.filter(link => link.source.id === source && link.target.id === target);\n\n                            let foundLink = null;\n                            if (link && link.length === 1) {\n                                foundLink = link[0];\n                            } else if (link && link.length > 1) {\n                                throw new Error('Too many links found!!!');\n                            } else {\n                                return;\n                            }\n\n                            const linkSpeed = foundLink.instance.speed;\n\n                            const totalItems = Object.keys(itemPerNode[source] || {}).map(item => itemPerNode[source][item]).reduce((a, b = 0) => a + b, 0);\n\n\n                            Object.keys(itemPerNode[source] || {}).forEach(item => {\n                                const q = itemPerNode[source][item];\n                                foundLink.itemThroughPut = foundLink.itemThroughPut || {};\n                                foundLink.itemThroughPut[item] = foundLink.itemThroughPut[item] || {max: 0, actual: 0};\n                                foundLink.itemThroughPut[item].max = (q / totalItems * linkSpeed);\n                                foundLink.itemThroughPut[item].actual += (q / ((this.nodeOut[source] || []).length || 1));\n                                foundLink.forceOverwritable = true;\n                            });\n\n\n                            nodeGroupSource.forEach((node) => {\n                                const provided = providedThroughput[node.id] || [];\n\n\n                                const provideByItem = {};\n\n                                provided.forEach(provide => {\n                                    const item = provide.throughput.item;\n                                    provideByItem[item] = provideByItem[item] || [];\n                                    provideByItem[item].push(provide);\n                                });\n\n                                Object.keys(provideByItem).forEach(item => {\n                                    const thisProvide = provideByItem[item];\n                                    const totalCalculated = thisProvide.map(item => item.calculatedItemPerSecond).reduce((a, b = 0) => a + b, 0);\n\n                                    thisProvide.forEach(provideRaw => {\n                                        const provide = JSON.parse(JSON.stringify(provideRaw));\n\n                                        const localModifier = provide.calculatedItemPerSecond / totalCalculated;\n\n                                        provide.calculatedItemPerSecond = localModifier / 60 * (itemPerNode[source][item] / ((this.nodeOut[source] || []).length || 1));\n\n                                        provide.calculatedItemPerSecond = Math.min(provide.calculatedItemPerSecond, linkSpeed / 60);\n                                        provide.maxItemsPerSecLimiter = provide.calculatedItemPerSecond;\n\n                                        const throughput = provide;\n                                        const q = throughput.throughput.quantity;\n                                        const t = throughput.throughput.time;\n                                        const e = throughput.efficiency;\n                                        const o = throughput.throughput.overclock;\n                                        const s = throughput.throughput.speed;\n\n                                        const rawCalculation = q / t * e * o * s || 0;\n\n                                        if (rawCalculation < provide.calculatedItemPerSecond) {\n                                            throughput.throughput.overclock = Infinity;\n                                        }\n\n                                        providedThroughput[target] = providedThroughput[target] || [];\n                                        providedThroughput[target].push(throughput);\n                                    });\n                                });\n                            });\n\n                        });\n                    });\n\n                });\n\n\n            }\n        };\n\n        propagateNodeToEdgesRevised(thisNodeInflated, outgoingInflated, node, outgoing);\n\n        Object.keys(derivedGraphIncoming).forEach(key => {\n            const accessor = derivedGraphIncoming[key];\n            accessor.delete(parseInt(node, 10));\n        });\n\n        myTinyQueue.reheapify();\n    }\n\n    editEfficiencyArc('efficiency', 59, 322);\n};\nexport const initSimulation = () => {\n    const bodyEl = document.getElementById('svgParent');\n    const width = bodyEl.clientWidth;\n    const height = bodyEl.clientHeight;\n    return d3.forceSimulation()\n        .force('link', d3.forceLink().id(function (d) {\n            return d.id;\n        }).distance(60))\n        .force('charge', d3.forceManyBody().strength(20))\n        // .force('center', d3.forceCenter(width / 2, height / 2))\n        .force('collision', d3.forceCollide().radius(function (d) {\n            return 120;\n        }))\n        .force('xAxis', d3.forceX().strength(0.1).x(function (d) {\n            return d.initialX || (width / 2);\n        }))\n        .force('yAxis', d3.forceY().strength(0.5).y(function (d) {\n            return d.initialY || (height / 2);\n        }));\n};\n\nexport const updateGraph = function (simulation, graphNodesGroup, graphLinksGroup) {\n    const t = this;\n    let nodes = this.graphData.nodes;\n    let links = this.graphData.links;\n\n    this.nodeIn = {};\n    this.nodeOut = {};\n\n    links.forEach(elem => {\n        const outgoing = elem.source.id;\n        const incoming = elem.target.id;\n        this.nodeOut[outgoing] = this.nodeOut[outgoing] || [];\n        this.nodeIn[incoming] = this.nodeIn[incoming] || [];\n\n        this.nodeOut[outgoing].push(elem.target);\n        this.nodeIn[incoming].push(elem.source);\n    });\n\n    nodes.forEach(node => {\n        const input_slots = node.instance.input_slots;\n        const output_slots = node.instance.output_slots;\n        node.open_in_slots = input_slots - (t.nodeIn[node.id] || []).length;\n        node.open_out_slot = output_slots - (t.nodeOut[node.id] || []).length;\n    });\n\n    recalculateStorageContainers.call(t);\n\n    const drag = d3.drag()\n        .clickDistance(10)\n        .on('start', (d) => {\n            drag_start.call(this, d, simulation, t);\n        }).on('drag', (d) => {\n            drag_drag.call(this, d, t);\n        }).on('end', function (d) {\n            d3.event.sourceEvent.stopImmediatePropagation();\n            drag_end.call(this, d, t, simulation);\n        });\n\n    let graphNodesData =\n        graphNodesGroup\n            .selectAll('.' + 'node-data-class')\n            .data(nodes, d => d.id);\n\n    let graphNodesEnter =\n        graphNodesData\n            .enter()\n            .append('g')\n            .classed('node-data-class', true)\n            .attr('id', d => d.id || null)\n            // .on('contextmenu', (d, i)  => {\n            //   t.remove(d);\n            //   d3.event.preventDefault();\n            // })\n            // .on('mouseover', d => console.log(`d.id: ${d.id}`))\n            // .on('click', d => t.handleNodeClicked(d))\n            .on('wheel.zoom', function (d) {\n                wheelZoomCalculation.call(this, d);\n            })\n            .on('click', function (d) {\n                d3.event.stopImmediatePropagation();\n                node_clicked.call(this, d, t);\n                // self.onNodeClicked.emit(d.id);\n            }).on('dblclick', function (d) {\n            d3.event.stopImmediatePropagation();\n            remove_select_from_nodes(t);\n            //double click\n            // d.fx = null;\n            // d.fy = null;\n        }).on('mouseover', function (d) {\n            node_mouse_over.call(this, d, t);\n        }).on('mouseout', function (d) {\n            node_mouse_out.call(this, d, t);\n        }).on('mousedown', function (d) {\n            node_mouse_down.call(this, d, t);\n        }).on('mouseup', function (d) {\n            node_mouse_up.call(this, d, t);\n        }).call(drag);\n\n    let graphNodesExit =\n        graphNodesData\n            .exit()\n            .remove();\n\n    let graphNodeCircles =\n        graphNodesEnter\n            .append('circle')\n            .classed(constants.graphNodeClass, true)\n            .attr('cursor', 'pointer')\n            .attr('r', d => 50);\n\n    const callbacks = [];\n    addEfficiencyArc(graphNodesEnter, 'efficiency', 59, 322);\n    addNodeImage(graphNodesEnter);\n    insertNodeOverclock(graphNodesEnter);\n    insertNodeTier(graphNodesEnter);\n    insertComponents.call(t, graphNodesEnter);\n\n    // merge\n    graphNodesData =\n        graphNodesEnter.merge(graphNodesData);\n\n    // links\n    let graphLinksData =\n        graphLinksGroup\n            .selectAll('.' + 'link-data-class')\n            .data(links, function (d) {\n                return d.source.id + '-' + d.target.id;\n            });\n    let graphLinksEnter =\n        graphLinksData\n            .enter()\n            .append('g')\n            .classed('link-data-class', true);\n\n    let graphLinksExit =\n        graphLinksData\n            .exit()\n            .remove();\n\n\n    const linkFullObject = graphLinksEnter\n        .append('g')\n        .attr('id', function (d) {\n            return 'path-parent' + d.source.id + '-' + d.target.id;\n        })\n        .classed(constants.lineParentObjectClass, true);\n\n    // apply styling to each selected line\n    linkFullObject.append('path')\n        .classed(constants.lineStylingPathClass, true)\n        .classed(constants.lineStylingFullClass, true)\n        .attr('display', 'none')\n        .attr('stroke', 'orange')\n        .attr('stroke-width', 10);\n    linkFullObject.append('path')\n        .classed(constants.lineStylingArrowClass, true)\n        .classed(constants.lineStylingFullClass, true)\n        .attr('display', 'none')\n        .attr('stroke', null)\n        .attr('marker-end', 'url(#highlight-path-arrow-orange)')\n        .attr('stroke-width', 3);\n\n    linkFullObject\n        .append('path')\n        .classed(constants.lineObjectClass, true)\n        .attr('stroke', function (d) {\n            return d3.color('#000000');\n        })\n        .attr('marker-end', 'url(#default-path-arrow)');\n\n    insertEdgeLabel.call(this, linkFullObject);\n\n    // apply styling to each selected line\n    linkFullObject\n        .append('path')\n        .classed(constants.lineHitboxObjectClass, true)\n        .on('mouseover', function (d) {\n        }).on('mouseout', function (d) {\n    }).on('click', function (d) {\n        pathMouseClick.call(this, d, t);\n    });\n\n    // merge\n    graphLinksData =\n        graphLinksEnter.merge(graphLinksData);\n\n    simulation\n        .nodes(nodes)\n        .on('tick', () => {\n            handleTick.call(this, graphNodesData, graphLinksData, simulation);\n        })\n        .on('end', () => {\n            console.log('Simulation Ended!');\n        });\n\n    simulation\n        .force('link')\n        .links(links);\n    // simulation\n    // .force('link', d3.forceLink().links(forceLinks))\n    // experiment: weights>\n    // t.linkWeights = {}\n    // links.forEach(elem => {\n    //   t.linkWeights[elem.target.id] = t.linkWeights[elem.target.id] + 1 || 1;\n    //   // t.linkWeights[elem.source.id] = t.linkWeights[elem.source.id] + 1 || 1;\n    // })\n    //\n    // simulation.force('charge', d3.forceManyBody().strength(function(d) {\n    //   return 20 - (20 * t.linkWeights[d.id]);\n    // }));\n    callbacks.forEach(callback => callback());\n    simulation.alphaTarget(0.3).restart();\n\n//     //get svg element.\n//     var svg = document.getElementById(\"mainRender\");\n//\n// //get svg source.\n//     var serializer = new XMLSerializer();\n//     var source = serializer.serializeToString(svg);\n//\n// //add name spaces.\n//     if(!source.match(/^<svg[^>]+xmlns=\"http\\:\\/\\/www\\.w3\\.org\\/2000\\/svg\"/)){\n//         source = source.replace(/^<svg/, '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n//     }\n//     if(!source.match(/^<svg[^>]+\"http\\:\\/\\/www\\.w3\\.org\\/1999\\/xlink\"/)){\n//         source = source.replace(/^<svg/, '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\n//     }\n//\n// //add xml declaration\n//     source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source;\n//\n// //convert svg source to URI data scheme.\n//     var url = \"data:image/svg+xml;charset=utf-8,\"+encodeURIComponent(source);\n//\n// //set url value to a element's href attribute.\n//\n//     var download = document.createElement('a');\n//     download.href = url;\n//     download.download = 'reddot.png';\n//     download.click();\n};\n\nexport const deselect_path_and_nodes = function (t) {\n    t.setState({selectedPath: null, selectedNode: null});\n    d3.selectAll('.' + constants.lineStylingFullClass).attr('display', 'none');\n    remove_select_from_nodes(t);\n};\n\nexport const zoom_actions = (graphObjects) => {\n    graphObjects.attr('transform', d3.event.transform);\n};\n\nexport const handleTick = function (graphNodesData, graphLinksData, simulation) {\n    //update circle positions each tick of the simulation\n    const k = 100 * simulation.alpha();\n    graphNodesData\n        .attr('transform', function (d) {\n            return 'translate(' + d.x + ',' + d.y + ')';\n        })\n        .attr('cx', function (d) {\n            return d.x;\n        })\n        .attr('cy', function (d) {\n            return d.y;\n        });\n\n    //update link positions\n    graphLinksData.selectAll('line')\n        .attr('x1', function (d) {\n            return d.source.x;\n        })\n        .attr('y1', function (d) {\n            return d.source.y;\n        })\n        .attr('x2', function (d) {\n            return d.target.x;\n        })\n        .attr('y2', function (d) {\n            return d.target.y;\n        });\n\n    //update link positions\n    graphLinksData.selectAll('path')\n        .attr('d', function (d) {\n            return 'M ' + d.source.x + ' ' + d.source.y + ' L ' + d.target.x + ' ' + d.target.y;\n        });\n\n    calculateLabelPositions.call(this, graphLinksData);\n\n    graphLinksData.selectAll('.' + constants.lineObjectClass)\n        .each(function (d) {\n            d.source.vx += k;\n            d.target.vx -= k;\n        });\n};","import constants from './constants';\nimport {deselect_path_and_nodes} from './graphActions';\nimport * as d3 from 'd3';\nimport TinyQueue from '../TinyQueue';\nimport {strongly_connected_components_standalone} from './algorithms';\nimport {spliceUtil} from './util';\nimport {updateNodeTierExternal} from \"./nodeActions\";\n\nexport const recalculateStorageContainers = function () {\n\n    const nodeUnion = new Set(Object.keys(this.nodeIn));\n    Object.keys(this.nodeOut).forEach(node => nodeUnion.add(node));\n    const nodeUnionArray = Array.from(nodeUnion);\n\n    const nodeLookup = {};\n\n    nodeUnionArray.forEach((value, index) => {\n        nodeUnionArray[index] = this.graphData.nodes.filter(elem => elem.id.toString() === value)[0];\n        nodeLookup[nodeUnionArray[index].id] = nodeUnionArray[index];\n        nodeUnionArray[index].childProvides = [];\n        nodeUnionArray[index].hasSources = new Set();\n        nodeUnionArray[index].containedItems = [];\n\n        if (nodeUnionArray[index].machine.name !== 'Container' && nodeUnionArray[index].machine.name !== 'Logistic') {\n        } else {\n            nodeUnionArray[index].allowedIn = [];\n            nodeUnionArray[index].allowedOut = [];\n        }\n    });\n\n    const nodeOutWithSets = {};\n    Object.keys(this.nodeOut).forEach(key => {\n        const value = this.nodeOut[key];\n        nodeOutWithSets[key] = new Set(value.map(elem => elem.id.toString()));\n    });\n\n    const componentsList = strongly_connected_components_standalone(nodeOutWithSets);\n    const superNodeGraphLookup = {};\n    const superNodeGraphLookupInflated = {};\n    const lookupArray = {};\n    componentsList.forEach((list, index) => {\n        superNodeGraphLookup[index] = list;\n        superNodeGraphLookupInflated[index] = list.map(id => nodeLookup[id]);\n        list.forEach(item => {\n            lookupArray[item] = index;\n        });\n    });\n    const derivedGraphOutgoing = {};\n\n    // Derive a graph from this new info\n    Object.keys(this.nodeOut).forEach(node => {\n        const ids = this.nodeOut[node].map(item => item.id);\n        const thisNode = lookupArray[node];\n        derivedGraphOutgoing[thisNode] = derivedGraphOutgoing[thisNode] || new Set();\n        const derivedGraphAccessor = derivedGraphOutgoing[thisNode];\n        ids.forEach(id => {\n            const thisId = lookupArray[id];\n            if (thisId === thisNode) return;\n            derivedGraphAccessor.add(thisId);\n        });\n    });\n    const derivedGraphIncoming = {};\n    const immutableDerivedGraphIncoming = {};\n\n    // Derive a graph from this new info\n    Object.keys(this.nodeOut).forEach(node => {\n        const ids = this.nodeOut[node].map(item => item.id);\n        const thisNode = lookupArray[node];\n        derivedGraphIncoming[thisNode] = derivedGraphIncoming[thisNode] || new Set();\n        immutableDerivedGraphIncoming[thisNode] = immutableDerivedGraphIncoming[thisNode] || new Set();\n        ids.forEach(id => {\n            const thisId = lookupArray[id];\n            if (thisId === thisNode) return;\n\n            if (!derivedGraphIncoming[thisId]) {\n                derivedGraphIncoming[thisId] = new Set();\n                immutableDerivedGraphIncoming[thisId] = new Set();\n            }\n\n            const derivedGraphAccessor = derivedGraphIncoming[thisId];\n            derivedGraphAccessor.add(thisNode);\n            immutableDerivedGraphIncoming[thisId].add(thisNode);\n        });\n    });\n\n    const myTinyQueue = new TinyQueue(Array.from(new Set([...Object.keys(derivedGraphOutgoing), ...Object.keys(derivedGraphIncoming)])), (a, b) => {\n        return (derivedGraphIncoming[a] || []).size - (derivedGraphIncoming[b] || []).size;\n    });\n\n    const globalProvideMap = {};\n\n    const reverseTraversalStack = [];\n\n    while (myTinyQueue.size()) {\n        const node = myTinyQueue.pop();\n\n        reverseTraversalStack.push(node);\n\n        const thisNodeInflated = superNodeGraphLookupInflated[node];\n        const outgoing = Array.from(derivedGraphOutgoing[node] || new Set());\n        const outgoingInflated = outgoing.map(item => superNodeGraphLookupInflated[item]);\n\n        const propagateNodeToEdges = (nodeGroupSource, nodeGroupTarget, origin, targets) => {\n            //gather this node\n            const combinedProvides = [];\n            const combinedProvidesSource = new Set();\n            nodeGroupSource.forEach(node => {\n                if (node.machine.name !== 'Container' && node.machine.name !== 'Logistic') {\n                    combinedProvides.push({item: node.data.recipe, source: origin});\n                } else {\n                    node.childProvides = globalProvideMap[origin] || [];\n                    node.childProvides.forEach(provide => {\n                        if (!combinedProvidesSource.has(provide.source)) {\n                            combinedProvides.push(provide);\n                            combinedProvidesSource.add(provide.source);\n                        }\n                    });\n                    node.allowedIn = node.childProvides.map(elem => elem.item.item.id);\n                    node.allowedOut = node.childProvides.map(elem => elem.item.item.id);\n                    node.containedItems = node.childProvides.map(elem => elem.item.item);\n                }\n            });\n\n            targets.forEach(target => {\n                if (!globalProvideMap[target]) {\n                    globalProvideMap[target] = [];\n                }\n\n                combinedProvides.forEach(provide => {\n                    if (!new Set(globalProvideMap[target].map(elem => elem.source)).has(provide.source)) {\n                        globalProvideMap[target].push(provide);\n                    }\n                });\n            });\n        };\n\n        propagateNodeToEdges(thisNodeInflated, outgoingInflated, node, outgoing);\n\n        Object.keys(derivedGraphIncoming).forEach(key => {\n            const accessor = derivedGraphIncoming[key];\n            accessor.delete(parseInt(node, 10));\n        });\n\n        myTinyQueue.reheapify();\n    }\n\n    while (reverseTraversalStack.length) {\n        const node = reverseTraversalStack.pop();\n\n        const thisNodeInflated = superNodeGraphLookupInflated[node];\n\n        const outgoing = Array.from(derivedGraphOutgoing[node] || new Set());\n        const outgoingInflated = outgoing.map(item => superNodeGraphLookupInflated[item]);\n\n        const propagateNodeToEdgesReversed = (nodeGroupSource, nodeGroupTarget, origin, targets) => {\n\n            const allowed = new Set();\n            nodeGroupTarget.forEach(nodeGroup => nodeGroup.forEach(node => {\n                node.allowedIn.forEach(item => allowed.add(item))\n            }));\n\n            nodeGroupSource.forEach(node => {\n                if (node.machine.name !== 'Container' && node.machine.name !== 'Logistic') {\n                    // NoOp\n                } else {\n                    if (node.allowedIn.length === 0 && node.allowedOut.length === 0) {\n                        node.allowedIn = Array.from(allowed);\n                        node.allowedOut = Array.from(allowed);\n                    }\n                }\n            });\n        };\n        propagateNodeToEdgesReversed(thisNodeInflated, outgoingInflated, node, outgoing);\n    }\n};\n\nexport const addPath = function (passedThis, source, target) {\n\n    const sourceChecker = (source.allowedIn || []).length > 0 || (source.allowedOut || []).length > 0;\n    const targetChecker = (target.allowedIn || []).length > 0 || (target.allowedOut || []).length > 0;\n    const specialSource = ['Container', 'Logistic'].includes(source.machine.name);\n    const specialTarget = ['Container', 'Logistic'].includes(target.machine.name);\n    const mergerTarget = ['Logistic'].includes(source.machine.name) && ['Merger'].includes(source.instance.name);\n    const mergerSource = ['Logistic'].includes(target.machine.name) && ['Merger'].includes(target.instance.name);\n    const targetSlotsUsed = target.instance.input_slots === (passedThis.nodeIn[target.id] ? passedThis.nodeIn[target.id].length : 0);\n    const sourceSlotsUsed = source.instance.output_slots === (passedThis.nodeOut[source.id] ? passedThis.nodeOut[source.id].length : 0);\n\n    console.error(sourceChecker, targetChecker, specialSource, specialTarget, targetSlotsUsed);\n\n    const path_type = passedThis.props.parentAccessor.state.path_type.path_type;\n    path_type.sort((path1, path2) => path1.rank - path2.rank);\n    const upgrades = path_type.filter(path => path.rank >= 0);\n\n    // TODO: Set the correct instance by default\n    const instance = upgrades[0];\n\n    const newEdge = {source: source, target: target, instance, upgradeTypes: upgrades};\n\n    if (((specialSource && !sourceChecker) || (specialTarget && !targetChecker)) || (mergerTarget || mergerSource)) {\n        console.log(\"Special Handling\");\n        // special handling if the source is a container\n\n        // check if there are open slots\n        const outgoing = source.id;\n        const incoming = target.id;\n\n        const usedOut = (passedThis.nodeOut[outgoing] ? passedThis.nodeOut[outgoing].length : 0);\n        const usedIn = (passedThis.nodeIn[incoming] ? passedThis.nodeIn[incoming].length : 0);\n\n        // return early if we can't do anything with this node,\n        if (usedOut >= source.instance.output_slots || usedIn >= target.instance.input_slots) {\n            passedThis.updateGraphHelper();\n            return;\n        }\n\n        const filterResult = passedThis.graphData.links.filter(function (d) {\n            if (d.source.id === newEdge.target.id && d.target.id === newEdge.source.id) {\n                removePath(d, passedThis);\n            }\n            return (d.source.id === newEdge.source.id && d.target.id === newEdge.target.id) || newEdge.source.id === newEdge.target.id;\n        });\n\n        if (filterResult.length === 0) {\n            passedThis.graphData.links.push(newEdge);\n        }\n        passedThis.updateGraphHelper();\n    } else {\n        //checked\n\n        // Check if there are items you can shove in\n        const sharedItems = target.allowedIn.filter(value => source.allowedOut.includes(value));\n\n        // check if there are open slots\n        const outgoing = source.id;\n        const incoming = target.id;\n\n        const usedOut = (passedThis.nodeOut[outgoing] ? passedThis.nodeOut[outgoing].length : 0);\n        const usedIn = (passedThis.nodeIn[incoming] ? passedThis.nodeIn[incoming].length : 0);\n\n        // return early if we can't do anything with this node.\n        if (usedOut >= source.instance.output_slots || usedIn >= target.instance.input_slots ||\n            sharedItems.length <= 0) {\n            passedThis.updateGraphHelper();\n            return;\n        }\n\n        const filterResult = passedThis.graphData.links.filter(function (d) {\n            if (d.source.id === newEdge.target.id && d.target.id === newEdge.source.id) {\n                removePath(d, passedThis);\n            }\n            return (d.source.id === newEdge.source.id && d.target.id === newEdge.target.id) || newEdge.source.id === newEdge.target.id;\n        });\n\n        if (filterResult.length === 0) {\n            passedThis.graphData.links.push(newEdge);\n        }\n        passedThis.updateGraphHelper();\n    }\n};\n\nexport const pathMouseClick = function (d, t) {\n    d3.event.stopImmediatePropagation();\n    const parentElement = d3.select(this.parentElement);\n    // const styledLine = parentElement.select('.' + constants.lineStylingPathClass);\n    // const styledMarker = parentElement.select('.' + constants.lineStylingArrowClass);\n\n    if (t.state && t.state.selectedPath && t.state.selectedPath === d) {\n        // set the new selected one to this one\n        deselect_path_and_nodes.call(this, t);\n    } else {\n        deselect_path_and_nodes.call(this, t);\n        d3.selectAll('.' + constants.lineStylingFullClass).attr('display', 'none');\n        t.setState({selectedPath: d});\n        const both = parentElement.selectAll('.' + constants.lineStylingFullClass);\n        both.attr('display', 'inherit');\n    }\n};\n\nexport const removePath = function (d, t) {\n    if (t.graphData.links.indexOf(d) === -1) {\n        throw new Error('d not found in graph links: ' + JSON.stringify(d));\n    }\n    const outgoing = d.source.id;\n    const incoming = d.target.id;\n    spliceUtil(t.nodeOut[outgoing], d.target);\n    spliceUtil(t.nodeIn[incoming], d.source);\n    spliceUtil(t.graphData.links, d);\n};\n\n\nexport const calculatePathTooltipPosition = function (link_label, d3) {\n    link_label.attr('x', function (d) {\n        const node = d3.select(link_label.node().parentElement).selectAll('path').node();\n        const pathLength = node.getTotalLength();\n        d.point = node.getPointAtLength(pathLength / 2);\n        return d.point.x - (d3.select(this).attr('width') / 2);\n    }).attr('y', function (d) {\n        return d.point.y - (d3.select(this).attr('height') / 2);\n    });\n};\n\n\nexport const calculateLabelPositions = function (link_label) {\n    const text = link_label.selectAll('.' + constants.nodeVersionTextClass);\n    text.attr('x', function (d) {\n        const node = d3.select(d3.select(this).node().parentElement.parentElement).select('path').node();\n        const pathLength = node.getTotalLength();\n        d.point = node.getPointAtLength(pathLength / 2);\n        return d.point.x;\n    }).attr('y', function (d) {\n        return d.point.y;\n    });\n\n    const image = link_label.selectAll('.' + constants.lineLimitedThroughputClass);\n    image.attr('x', function (d) {\n        const node = d3.select(d3.select(this).node().parentElement.parentElement).select('path').node();\n        const pathLength = node.getTotalLength();\n        d.point = node.getPointAtLength(pathLength / 2);\n        return d.point.x - 44;\n    }).attr('y', function (d) {\n        return d.point.y + d.tempIndex[d3.select(this).attr('data-key')] * 20 + 15;\n    });\n\n    const secondarytext = link_label.selectAll('.' + constants.lineLimitedThroughputText);\n    secondarytext.attr('x', function (d) {\n        const node = d3.select(d3.select(this).node().parentElement.parentElement).select('path').node();\n        const pathLength = node.getTotalLength();\n        d.point = node.getPointAtLength(pathLength / 2);\n        return d.point.x - 20;\n    }).attr('y', function (d) {\n        return d.point.y + d.tempIndex[d3.select(this).attr('data-key')] * 20 + 24;\n    });\n\n\n};\n\n\nexport const insertEdgeLabel = function (elem) {\n\n    // Perhaps not needed!\n    const link_label = elem.append('g').attr('class', 'textLabel');\n\n\n    updateNodeTierExternal(link_label, 0, 0);\n\n    const link_label2 = elem.append('g').attr('class', 'resourceThroughput');\n\n    d3.selectAll('.' + constants.lineLimitedThroughputText).remove();\n    d3.selectAll('.' + constants.lineLimitedThroughputClass).remove();\n\n    d3.selectAll('.resourceThroughput').each(function (d) {\n\n        const edgeThis = d3.select(this);\n\n        let index = 0;\n        d.tempIndex = {};\n        Object.keys(d.itemThroughPut || {}).forEach((key) => {\n            const item = d.itemThroughPut[key];\n\n            if (!d.itemIconLookup) return;\n\n            // d.tempIndex\n            d.tempIndex[key] = index++;\n\n            let definedColor = 'LightCoral';\n            let linkClass = 'link-has-problems';\n\n            if (d.forceOverwritable) {\n                definedColor = 'LightBlue';\n            }\n\n            if (item.actual <= item.max) {\n                definedColor = 'white';\n                linkClass = null;\n            }\n\n            const icon = d.itemIconLookup[key];\n\n            edgeThis.classed('link-has-problems', false);\n            edgeThis.classed('link-has-no-problems', true);\n            if (linkClass) {\n                edgeThis.classed('link-has-problems', true);\n                edgeThis.classed('link-has-no-problems', false);\n            }\n\n            edgeThis.append('svg:image')\n                .classed(constants.lineLimitedThroughputClass, true)\n                .attr('xlink:href', function (d) {\n                    return icon;\n                })\n                .attr('data-key', key)\n                .attr('height', 20)\n                .attr('width', 20);\n\n\n            edgeThis.append('text')\n                .attr('fill', 'black')\n                .attr('class', 'overclockFont')\n                .classed(constants.lineLimitedThroughputText, true)\n                .style('text-anchor', 'start')\n                .style('dominant-baseline', 'central')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 4)\n                .attr('font-size', 20)\n                .attr('data-key', key)\n                .text(function (d) {\n                    return Math.round(item.actual * 100) / 100 + '/' + Math.round(item.max * 100) / 100;\n                });\n\n            edgeThis.append('text').attr('fill', definedColor)\n                .attr('class', 'overclockFont')\n                .classed(constants.lineLimitedThroughputText, true)\n                .style('text-anchor', 'start')\n                .style('dominant-baseline', 'central')\n                .attr('font-size', 20)\n                .attr('data-key', key)\n                .text(function (d) {\n                    return Math.round(item.actual * 100) / 100 + '/' + Math.round(item.max * 100) / 100;\n                });\n        });\n    });\n};","import constants from './constants';\nimport {addPath, removePath} from './edgeActions';\nimport * as d3 from 'd3';\nimport {deselect_path_and_nodes} from './graphActions';\nimport {spliceUtil} from './util';\n\nimport {parseSvg} from 'd3-interpolate/src/transform/parse';\n\nexport const add_node = (d, t) => {\n\n    const zoomData = parseSvg(d3.select('#svgGroup').attr('transform'));\n    console.error(zoomData);\n\n    var viewCenter = [];\n\n\n    const bodyEl = document.getElementById('svgParent');\n    console.log(bodyEl, \"AAAAAA\");\n    const width = bodyEl.clientWidth;\n    const height = bodyEl.clientHeight;\n\n    viewCenter[0] = (0.5) * (width / zoomData.scaleX) - (zoomData.translateX / zoomData.scaleX);\n    viewCenter[1] = (0.5) * (height / zoomData.scaleY) - (zoomData.translateY / zoomData.scaleY);\n\n    d.id = d.id || t.id++;\n    d.x = d.x || 0;\n    d.y = d.y || 0;\n\n    d.fx = viewCenter[0];\n    d.fy = viewCenter[1];\n    console.error(viewCenter);\n\n    d.overclock = d.overclock || 100;\n    t.graphData.nodes.push(d);\n    t.updateGraphHelper();\n};\n\nexport const delete_node = function (d, t) {\n    // unselect currently selected node\n    const selectedNode = t.state.selectedNode;\n    remove_select_from_nodes(t);\n\n    const toSplice = t.graphData.links.filter(function (l) {\n        return l.source.id === selectedNode.id || l.target.id === selectedNode.id;\n    });\n\n    toSplice.map(function (l) {\n        removePath(l, t);\n    });\n    spliceUtil(t.graphData.nodes, selectedNode);\n};\n\n\nexport const node_clicked = function (d, t) {\n    // unselect currently selected node\n    const previouslySelected = t.state.selectedNode;\n    remove_select_from_nodes(t);\n    if (previouslySelected !== d) {\n        deselect_path_and_nodes(t);\n        t.setState({selectedNode: d});\n\n        d3.select(this).classed(constants.graphNodeHoverClass, true)\n            .classed(constants.graphNodeGrabbedClass, false)\n            .classed(constants.selectedNodeClass, true);\n    }\n};\n\nexport const remove_select_from_nodes = function (graphSvg) {\n    d3.select('.' + constants.selectedNodeClass)\n        .classed(constants.selectedNodeClass, false)\n        .classed(constants.graphNodeGrabbedClass, false);\n    graphSvg.setState({selectedNode: null});\n};\n\n\nexport const node_mouse_over = function (d, graphSvg) {\n\n    graphSvg.setState({mouseOverNode: d3.select(this).datum()});\n    d3.select(this).classed(constants.graphNodeHoverClass, true);\n};\n\nexport const node_mouse_out = function (d, graphSvg) {\n    graphSvg.setState({mouseOverNode: null});\n    d3.select(this).classed(constants.graphNodeHoverClass, false);\n};\n\nexport const node_mouse_down = function (d, graphSvg) {\n    if (d3.event.shiftKey) {\n        graphSvg.setState({shiftHeld: true, sourceId: d3.select(this).datum().id});\n    } else {\n        d3.select(this).classed(constants.graphNodeGrabbedClass, true);\n    }\n};\n\nexport const node_mouse_up = function (d, graphSvg) {\n    // Only triggered if it's not a drag\n    if (graphSvg.state && graphSvg.state.shiftHeld) {\n    } else {\n        //probably can't get to this case\n    }\n    graphSvg.setState({shiftHeld: false});\n};\n\n\nconst overClockCalculation = (d, percentage_metric, offset, endOffsetRaw) => {\n    const endOffset = endOffsetRaw + offset;\n    const percentage = d[percentage_metric] * 100 || 0;\n    const arc = d3.arc()\n        .innerRadius(50)\n        .outerRadius(50);\n\n    const m = (endOffset - offset) / 100;\n    const b = offset;\n\n    const start = b / 180 * Math.PI;\n    const end = (m * percentage + b) / 180 * Math.PI;\n    return arc({startAngle: start, endAngle: end});\n};\n\n\nexport const addEfficiencyArc = (parent, percentage_metric, offset, endOffset) => {\n    parent.append('path').filter(function (d) {\n        return !['Container', 'Logistic'].includes(d.machine.name)\n    })\n        .attr('class', constants.overclockedArcClass)\n        .attr('fill', 'none')\n        .attr('stroke-width', 8);\n\n    editEfficiencyArc(percentage_metric, offset, endOffset);\n};\n\nexport const editEfficiencyArc = (percentage_metric, offset, endOffset) => {\n    d3.selectAll('.' + constants.overclockedArcClass)\n        .attr('d', function (d) {\n            return overClockCalculation(d, percentage_metric, offset, endOffset);\n        })\n        .attr('stroke', function (d) {\n\n            function perc2color(perc) {\n                var r, g, b = 0;\n                if(perc < 50) {\n                    r = 255;\n                    g = Math.round(5.1 * perc);\n                }\n                else {\n                    g = 255;\n                    r = Math.round(510 - 5.10 * perc);\n                }\n                var h = r * 0x10000 + g * 0x100 + b * 0x1;\n                return '#' + ('000000' + h.toString(16)).slice(-6);\n            }\n\n            const p =  100 * (d[percentage_metric] || 0);\n            return perc2color(p)\n        });\n};\n\nexport const addNodeImage = (parent) => {\n    parent.append('svg:image')\n        .attr('class', function (d) {\n            if (d.machine && d.machine.icon) {\n                return 'machine-icon';\n            }\n            return 'dev-icon';\n        })\n        .attr('xlink:href', function (d) {\n            if (d.instance && d.instance.icon) {\n                return d.instance.icon;\n            }\n            if (d.machine && d.machine.icon) {\n                return d.machine.icon;\n            }\n            return 'https://raw.githubusercontent.com/rhocode/rhocode.github.io/master/img/satoolsfactory_icons/Smelter.png';\n        })\n        .attr('x', function (d) {\n            return -50;\n        })\n        .attr('y', function (d) {\n            return -50;\n        })\n        .attr('height', 100)\n        .attr('width', 100);\n};\n\nexport const updateAllOverclockCalculations = () => {\n    updateOverclock(d3.selectAll('.' + constants.overclockedTextClass));\n};\n\nexport const wheelZoomCalculation = function (d, overclockOverride = null, selectedElem = null) {\n    if (overclockOverride === null) {\n        d3.event.stopImmediatePropagation();\n        let roughEstimate = -1;\n\n        if (d3.event.deltaY < 0) {\n            roughEstimate = 1;\n        }\n\n        d.overclock = (d.overclock + (roughEstimate));\n        if (d.overclock < 0) {\n            d.overclock = 251 + d.overclock;\n        } else if (d.overclock > 250) {\n            d.overclock = d.overclock - 251;\n        }\n        updateOverclock(d3.select(this).select('.' + constants.overclockedTextClass));\n    } else {\n        d.overclock = overclockOverride;\n        updateOverclock(selectedElem);\n    }\n\n\n};\n\nexport const updateOverclock = function (textElement) {\n    textElement.text(function (d) {\n        return Math.round(d.overclock);\n    });\n};\n\nexport const updateNodeTier = function (textElement) {\n    textElement.text(function (d) {\n        let name = d.instance.machine_version.representation;\n        if (process.env.NODE_ENV && process.env.NODE_ENV !== 'production') {\n            name +=  (d.id ? '(' + d.id + ')' : '' );\n        }\n        return name;\n    });\n};\n\nexport const updateComponents = function (elementsToUpdate) {\n    const t = this;\n    const itemAccessor = t.props.parentAccessor.state.recipe.item;\n    elementsToUpdate.each(function (d) {\n        const allowedInRemaining = d.allowedIn.slice();\n        const provided = t.nodeIn[d.id] || [];\n        const actualIn = provided.map(node => node.allowedOut).flat(1);\n\n        actualIn.forEach(id => {\n            spliceUtil(allowedInRemaining, id);\n        });\n\n        const element = d3.select(this);\n\n        element.selectAll('.' + constants.nodeRequirementsSubIconClass).remove();\n\n        if (allowedInRemaining.length > 0) {\n            element.append('text').attr('class', 'fas fa-arrow-right')\n                .classed(constants.nodeRequirementsSubIconClass, true)\n                .attr('x', function (d) {\n                    return -56 - 25;\n                })\n                .attr('y', function (d) {\n                    return 3;\n                })\n                .attr('height', 25)\n                .attr('width', 25);\n            const fetchRemainingIn = allowedInRemaining.map(item =>\n                itemAccessor.filter(findItem => item === findItem.id)[0]\n            );\n\n            const outputtedItems = new Set();\n\n            let index = 0;\n            fetchRemainingIn.forEach((remaining) => {\n                if (outputtedItems.has(remaining.icon)) {\n                    return;\n                }\n                outputtedItems.add(remaining.icon);\n                element.append('svg:image')\n                    .classed(constants.nodeRequirementsSubIconClass, true)\n                    .on('mousedown', function (d) {\n                        d3.event.stopImmediatePropagation();\n                    })\n                    .on('click', function (d) {\n                        const findSuitableSource = t.graphData.nodes.filter(node => node.id !== d.id && node.open_out_slot > 0\n                            && node.allowedOut.includes(remaining.id));\n                        const thisNode = t.graphData.nodes.filter(node => node.id === d.id);\n                        if (findSuitableSource.length > 0) {\n                            addPath(t, findSuitableSource[0], thisNode[0]);\n                        }\n                        d3.event.stopImmediatePropagation();\n                    })\n                    .attr('xlink:href', function (d) {\n                        return remaining.icon;\n                    })\n                    .attr('x', function (d) {\n                        return -58 - 28 - 28 - (28 * index++);\n                    })\n                    .attr('y', function (d) {\n                        return 3;\n                    })\n                    .attr('height', 25)\n                    .attr('width', 25);\n            });\n        }\n        const allowedOutRemaining = d.allowedOut.slice();\n        const provides = t.nodeOut[d.id] || [];\n        const actualOut = provides.map(node => node.allowedIn).flat(1);\n        actualOut.forEach(id => {\n            spliceUtil(allowedOutRemaining, id);\n        });\n\n        if (allowedOutRemaining.length > 0) {\n            element.append('text').attr('class', 'fas fa-arrow-right')\n                .classed(constants.nodeRequirementsSubIconClass, true)\n                .attr('x', function (d) {\n                    return 58;\n                })\n                .attr('y', function (d) {\n                    return -28;\n                })\n                .attr('height', 25)\n                .attr('width', 25);\n            const fetchRemainingOut = allowedOutRemaining.map(item =>\n                itemAccessor.filter(findItem => item === findItem.id)[0]\n            );\n\n            const outputtedItemsIn = new Set();\n\n            let index = 0;\n            fetchRemainingOut.forEach((remaining) => {\n                if (outputtedItemsIn.has(remaining.icon)) {\n                    return;\n                }\n                outputtedItemsIn.add(remaining.icon);\n                element.append('svg:image')\n                    .classed(constants.nodeRequirementsSubIconClass, true)\n                    .on('mousedown', function (d) {\n                        d3.event.stopImmediatePropagation();\n                    })\n                    .on('click', function (d) {\n                        const findSuitableTarget = t.graphData.nodes.filter(node => node.id !== d.id && node.open_in_slots > 0\n                            && node.allowedIn.includes(remaining.id));\n                        const thisNode = t.graphData.nodes.filter(node => node.id === d.id);\n                        if (findSuitableTarget.length > 0) {\n                            addPath(t, thisNode[0], findSuitableTarget[0]);\n                        }\n                        d3.event.stopImmediatePropagation();\n                    })\n                    .attr('xlink:href', function (d) {\n                        return remaining.icon;\n                    })\n                    .attr('x', function (d) {\n                        return 85 + (28 * index++);\n                    })\n                    .attr('y', function (d) {\n                        return -28;\n                    })\n                    .attr('height', 25)\n                    .attr('width', 25);\n            });\n        }\n    });\n};\n\nexport const forceUpdateComponentLabel = function () {\n    updateComponents.call(this, d3.selectAll('.' + constants.nodeRequirementsIconClass));\n};\n\n\nexport const insertComponents = function (parentElement) {\n\n    const el1 = parentElement.append('g').classed(constants.nodeRequirementsIconClass, true);\n\n    el1.each(function (d) {\n        if (d.machine && ['Container', 'Logistic'].includes(d.machine.name)) {\n            // save this for later...\n        } else {\n            d3.select(this).append('svg:image')\n                .classed(constants.nodeProducesClass, true)\n                .attr('xlink:href', function (d) {\n                    return d.data.recipe.item.icon;\n                })\n                .attr('x', function (d) {\n                    return -55;\n                })\n                .attr('y', function (d) {\n                    return 18;\n                })\n                .attr('height', 40)\n                .attr('width', 40);\n        }\n    });\n\n    d3.selectAll('.' + constants.nodeRequirementsIconClass).each(function (d) {\n        if (d.machine && ['Container', 'Logistic'].includes(d.machine.name)) {\n            const nodeThis = d3.select(this);\n            nodeThis.selectAll('.' + constants.nodeProducesClass).remove();\n            const outputtedItems = new Set();\n            let i = 0;\n            (d.containedItems || []).forEach((containedItem, index) => {\n                if (outputtedItems.has(containedItem.icon)) {\n                    return;\n                }\n                outputtedItems.add(containedItem.icon);\n                nodeThis.append('svg:image')\n                    .classed(constants.nodeProducesClass, true)\n                    .attr('xlink:href', function (d) {\n                        return d.containedItems[index].icon;\n                    })\n                    .attr('x', function (d) {\n                        return -55;\n                    })\n                    .attr('y', function (d) {\n                        return 18 + (30 * i++);\n                    })\n                    .attr('height', 40)\n                    .attr('width', 40);\n            });\n        }\n    });\n\n\n    parentElement.append('g').classed(constants.nodeSurplusIconClass, true);\n\n    d3.selectAll('.' + constants.nodeSurplusIconClass).each(function (d) {\n        const nodeThis = d3.select(this);\n        nodeThis.selectAll('.' + constants.nodeProducesPerMinText).remove();\n\n        nodeThis.append('text')\n            .attr('fill', 'white')\n            .attr('class', 'overclockFont')\n            .classed(constants.nodeProducesPerMinText, true)\n            .style('text-anchor', 'end')\n            .style('dominant-baseline', 'central')\n            .attr('stroke', 'black')\n            .attr('stroke-width', 4)\n            .attr('x', -5).attr('y', -37)\n            .attr('font-size', 30)\n            .text(function (d) {\n                let combinedSum = 0;\n                Object.keys(d.itemsPerMinute || {}).forEach(item => {\n                    combinedSum += d.itemsPerMinute[item];\n                });\n\n                return ((Math.round(combinedSum * 100) / 100) || 0) + '/m';\n            });\n\n\n        nodeThis.append('text').attr('fill', 'white')\n            .attr('class', 'overclockFont')\n            .classed(constants.nodeProducesPerMinText, true)\n            .style('text-anchor', 'end')\n            .style('dominant-baseline', 'central')\n            .attr('x', -5).attr('y', -37)\n            .attr('font-size', 30)\n            .text(function (d) {\n                let combinedSum = 0;\n                Object.keys(d.itemsPerMinute || {}).forEach(item => {\n                    combinedSum += d.itemsPerMinute[item];\n                });\n\n                return ((Math.round(combinedSum * 100) / 100) || 0) + '/m';\n            });\n    });\n\n    const el3 = parentElement.append('g').classed(constants.nodeLimitingThroughputClass, true);\n\n\n    d3.selectAll('.' + constants.nodeLimitingThroughputClass).each(function (d) {\n        const nodeThis = d3.select(this);\n        nodeThis.selectAll('.' + constants.nodeLimitingThroughputText).remove();\n\n        Object.keys(d.itemThroughPut || {}).forEach((key, index) => {\n            const item = d.itemThroughPut[key];\n\n            if (!d.itemIconLookup) return;\n\n            let definedColor = 'LightCoral';\n            let nodeClass = 'node-has-problems';\n\n            if (item.actual === item.max) {\n                definedColor = 'white';\n                nodeClass = null;\n            } else if (item.actual < item.max) {\n                definedColor = 'gold';\n            }\n\n            const icon = d.itemIconLookup[key];\n\n            nodeThis.classed('node-has-problems', false);\n            nodeThis.classed('node-has-no-problems', true);\n            if (nodeClass) {\n                nodeThis.classed('node-has-problems', true);\n                nodeThis.classed('node-has-no-problems', false);\n            }\n\n            nodeThis.append('svg:image')\n                .classed(constants.nodeLimitingThroughputText, true)\n                .attr('xlink:href', function (d) {\n                    return icon;\n                })\n                .attr('x', -49 + 35).attr('y', 59 + (index * 20))\n                .attr('height', 20)\n                .attr('width', 20);\n\n            nodeThis.append('text')\n                .attr('fill', 'black')\n                .attr('class', 'overclockFont')\n                .classed(constants.nodeLimitingThroughputText, true)\n                .style('text-anchor', 'start')\n                .style('dominant-baseline', 'central')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 4)\n                .attr('x', -25 + 35).attr('y', 68 + (index * 20))\n                .attr('font-size', 20)\n                .text(function (d) {\n                    return Math.round(item.actual * 100) / 100 + '/' + Math.round(item.max * 100) / 100;\n                });\n\n\n            nodeThis.append('text').attr('fill', definedColor)\n                .attr('class', 'overclockFont')\n                .classed(constants.nodeLimitingThroughputText, true)\n                .style('text-anchor', 'start')\n                .style('dominant-baseline', 'central')\n                .attr('x', -25 + 35).attr('y', 68 + (index * 20))\n                .attr('font-size', 20)\n                .text(function (d) {\n                    return Math.round(item.actual * 100) / 100 + '/' + Math.round(item.max * 100) / 100;\n                });\n\n        });\n\n    });\n\n    forceUpdateComponentLabel.call(this);\n};\n\nexport const updateNodeTierExternal = function (el, x = 35, y = 35) {\n    el.selectAll('.' + constants.nodeVersionTextClass).remove();\n\n    const backgroundText = el.append('text')\n        .attr('fill', 'white')\n        .attr('class', 'overclockFont')\n        .classed(constants.nodeVersionTextClass, true)\n        .style('text-anchor', 'middle')\n        .style('dominant-baseline', 'central')\n        .attr('stroke', 'black')\n        .attr('stroke-width', 4)\n        .attr('x', x).attr('y', y)\n        .attr('font-size', 30);\n\n    updateNodeTier(backgroundText);\n\n    const tspan = el.append('text').attr('fill', 'white')\n        .attr('class', 'overclockFont')\n        .classed(constants.nodeVersionTextClass, true)\n        .style('text-anchor', 'middle')\n        .style('dominant-baseline', 'central')\n        .attr('x', x).attr('y', y)\n        .attr('font-size', 30);\n\n    updateNodeTier(tspan);\n\n\n};\n\nexport const insertNodeTier = (gEl) => {\n    // const el = gEl.append('g').attr('text-anchor', 'middle').attr('dy', '-' + (nwords - 1) * 7.5);\n    const el = gEl.append('g').attr('id', function (d) {\n        return 'node-level-accessor-' + d.id;\n    });\n    updateNodeTierExternal(el);\n};\n\nexport const insertNodeOverclock = (gEl) => {\n    // const el = gEl.append('g').attr('text-anchor', 'middle').attr('dy', '-' + (nwords - 1) * 7.5);\n    const el = gEl\n        .filter(function (d) {\n            return !['Container', 'Logistic'].includes(d.machine.name)\n        })\n        .append('g').attr('text-anchor', 'middle').attr('dy', 0);\n\n    el.append('circle').attr('r', 17).attr('fill', '#FFFFFF').attr('cx', 32).attr('cy', -38).attr('stroke', 'black').attr('stroke-width', 1);\n\n    const tspan = el.append('text').attr('fill', 'black')\n        .attr('class', 'overclockFont')\n        .classed(constants.overclockedTextClass, true)\n        .attr('x', 32).attr('dy', -32)\n        .attr('font-size', 20)\n        .attr('id', function (d) {\n            return 'node-overclock-accessor-' + d.id;\n        })\n\n    updateOverclock(tspan);\n};","import constants from './constants';\nimport {delete_node} from './nodeActions';\nimport {removePath} from './edgeActions';\n\nimport * as d3 from 'd3';\n\nexport const svgKeyUp = function (d, t) {\n    t.setState({pressedKey: null});\n};\n\nexport const svgKeyDown = function (d, t) {\n    // make sure repeated keyd presses don't register for each keydown\n    if (document.activeElement && document.activeElement.nodeName === 'INPUT') return;\n    if (t.state.pressedKey) return;\n    t.setState({pressedKey: d3.event.keyCode});\n    // this.lastKeyDown = d3.event.keyCode;\n    // const selectedNode = this.selectedNode,\n    //   selectedEdge = this.selectedEdge;\n    //\n    switch (d3.event.keyCode) {\n        case constants.BACKSPACE_KEY:\n        case constants.DELETE_KEY:\n            if (t.state.selectedPath) {\n                removePath.call(this, t.state.selectedPath, t);\n                t.setState({selectedPath: null});\n                t.updateGraphHelper();\n            } else if (t.state.selectedNode) {\n                delete_node.call(this, d, t);\n                t.setState({selectedNode: null});\n                t.updateGraphHelper();\n            }\n            break;\n    }\n};","export const appendMarkerAttributes = (marker) => {\n    return marker.attr('viewBox', '0 -5 10 10')\n        .attr('markerWidth', 10)\n        .attr('markerHeight', 10)\n        .attr('orient', 'auto')\n        .append('svg:path')\n        .attr('d', 'M0,-5L10,0L0,5');\n};","import React, {Component} from 'react';\nimport {svgKeyDown, svgKeyUp} from './keyboardEvents';\nimport {analyzeGraph, deselect_path_and_nodes, initSimulation, updateGraph, zoom_actions} from './graphActions';\nimport {appendMarkerAttributes} from './markerActions';\n\nimport * as d3 from 'd3';\nimport {add_node, updateAllOverclockCalculations} from './nodeActions';\nimport {parse, stringify} from 'flatted/esm';\nimport pako from 'pako';\nimport Base64 from 'Base64';\nimport {saveHash} from \"./util\";\n\nconst styles = theme => ({\n    tooltip: {\n        position: 'absolute',\n        textAlign: 'center',\n        padding: 2,\n        font: '12px sans-serif',\n        background: 'lightsteelblue',\n        border: 0,\n        borderRadius: 8,\n        pointerEvents: 'none',\n        zIndex: 1202\n    }\n});\n\nclass GraphSvg extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            snapToGrid: true\n        };\n    }\n\n    static inflateGraphData(data) {\n        return parse(pako.inflate(Base64.atob(data), {to: 'string'}));\n    }\n\n    addNode(nodeData) {\n        add_node(nodeData, this);\n\n        console.log(JSON.stringify(nodeData));\n    }\n\n    resetCamera() {\n        this.inputSvg.transition()\n            .duration(750)\n            .call(this.zoom_handler.transform, d3.zoomIdentity);\n\n        this.updateGraphHelper();\n    }\n\n    jiggle() {\n        this.graphData.nodes.forEach(node => {\n            node.x = 0;\n            node.y = 0;\n        });\n\n        this.updateGraphHelper();\n    }\n\n    fixNodes() {\n        this.graphData.nodes.forEach(node => {\n            node.fx = node.x;\n            node.fy = node.y;\n        });\n\n        this.updateGraphHelper();\n    }\n\n    unfixNodes() {\n        this.graphData.nodes.forEach(node => {\n            node.fx = null;\n            node.fy = null;\n            node.vx = 0;\n            node.vy = 0;\n        });\n\n        this.updateGraphHelper();\n    }\n\n    createGraph(inputSvg, nodes = [], links = [], data = {}) {\n        this.graphData = {\n            nodes: nodes,\n            links: links\n        };\n\n        this.id = Math.max(...(this.graphData.nodes.map(elem => elem.id))) + 1;\n        if (this.id === Number.NEGATIVE_INFINITY) {\n            this.id = 0;\n        }\n        this.inputSvg = inputSvg;\n\n        //add encompassing group for the zoom\n        this.svgGroup = inputSvg.append('g')\n            .attr('class', 'objects')\n            .attr('id', 'svgGroup');\n\n        const graphObjects = this.svgGroup;\n\n        const t = this;\n\n        inputSvg.on('click', function (d) {\n            deselect_path_and_nodes.call(this, t);\n        });\n\n        d3.select(window).on('keydown', function (d) {\n            svgKeyDown.call(this, d, t);\n        }).on('keyup', function (d) {\n            svgKeyUp.call(this, d, t);\n        });\n\n        //add zoom capabilities\n        this.zoom_handler = d3.zoom()\n            .on('zoom', () => zoom_actions(graphObjects))\n            .scaleExtent([0.1, 6]);\n        this.zoom_handler(inputSvg);\n        inputSvg.on('dblclick.zoom', null);\n\n        //Create definitions for the arrow markers showing relationship directions\n        const defs = graphObjects.append('defs');\n        appendMarkerAttributes(defs.append('svg:marker')\n            .attr('id', 'default-path-arrow')\n            .attr('refX', 35));\n\n        appendMarkerAttributes(defs.append('svg:marker')\n            .attr('id', 'highlight-path-arrow-orange')\n            .attr('fill', 'orange')\n            .attr('refX', 24));\n\n        appendMarkerAttributes(defs.append('svg:marker')\n            .attr('id', 'dragged-end-arrow')\n            .attr('refX', 7));\n\n        const filter = defs.append('filter')\n            .attr('id', 'drop-shadow')\n            .attr('height', '130%')\n            .attr('width', '130%')\n            .attr('filterUnits', 'userSpaceOnUse');\n\n        filter.append('feGaussianBlur')\n            .attr('in', 'SourceAlpha')\n            .attr('stdDeviation', 5)\n            .attr('result', 'blur');\n\n        filter.append('feOffset')\n            .attr('in', 'blur')\n            .attr('result', 'offsetBlur');\n\n        filter.append('feFlood')\n            .attr('in', 'offsetBlur')\n            .attr('flood-color', 'white')\n            .attr('flood-opacity', '1')\n            .attr('result', 'offsetColor');\n\n        filter.append('feComposite')\n            .attr('in', 'offsetColor')\n            .attr('in2', 'offsetBlur')\n            .attr('operator', 'in')\n            .attr('result', 'offsetBlur');\n\n        const feMerge = filter.append('feMerge');\n\n        feMerge.append('feMergeNode')\n            .attr('in', 'offsetBlur');\n        feMerge.append('feMergeNode')\n            .attr('in', 'SourceGraphic');\n\n\n        //The dragged line\n        this.dragLine = graphObjects.append('g').append('svg:path')\n            .attr('class', 'link dragline line-object hidden')\n            .attr('d', 'M0,0L0,0')\n            .attr('stroke', function (d) {\n                return d3.color('#000000');\n            })\n            .style('marker-end', 'url(#dragged-end-arrow)');\n\n        const graphLinksGroup = graphObjects.append('g') //graphLinksData\n            .attr('class', 'links-g-group');\n\n        const graphNodesGroup = graphObjects\n            .append('g')\n            .attr('class', 'nodes-g-group');\n\n        let simulation = initSimulation();\n\n        this.graphNodesGroup = graphNodesGroup;\n        this.graphLinksGroup = graphLinksGroup;\n        this.simulation = simulation;\n        this.updateGraphHelper();\n    }\n\n    updateGraphHelper() {\n        updateGraph.call(this, this.simulation, this.graphNodesGroup, this.graphLinksGroup);\n    }\n\n    clearGraphDataRaw() {\n        const parent = d3.select(d3.select('#mainRender').node().parentElement);\n        d3.select('#mainRender').selectAll('*').remove();\n        d3.select('#mainRender').remove();\n\n        return parent.append('svg').attr('id', 'mainRender');\n    }\n\n    clearGraphData(t) {\n        deselect_path_and_nodes.call(this, t);\n        const svg = this.clearGraphDataRaw();\n        this.createGraph(svg);\n    }\n\n    loadGraphData(data) {\n        const svg = this.clearGraphDataRaw();\n        //nodes, links, data\n        this.createGraph(svg, data.graphData.nodes, data.graphData.links);\n    }\n\n    compressGraphData() {\n        const compressedData = {\n            satisgraphtory: {\n                version: 0.01\n            },\n            graphData: this.graphData,\n            playerData: {},\n            secret: {}\n        };\n        return Base64.btoa(pako.deflate(stringify(compressedData), {to: 'string'}));\n    }\n\n    uploadDataWithResponse() {\n        const data = {data: this.compressGraphData()};\n        return saveHash(data);\n    }\n\n    analyze = () => {\n        analyzeGraph.call(this);\n        this.updateGraphHelper();\n    };\n\n    optimize = () => {\n        analyzeGraph.call(this, true);\n        updateAllOverclockCalculations();\n        this.updateGraphHelper();\n    };\n\n    componentDidMount() {\n        // // const data = 'eJzdXetz2ziS/1dS/Oxx0A0QIPJx5+7qXDfeyW225j6kUi6tTDmqyJJOj8mkUvO/H9HgAy9KIqlot84ztklQDTR+/UB3A3Q+fs9+L3f75WadvWP3DO6yl91s+/nfZodZ9i6D7C7brmbfyl3dgFXDvpzvykN1w7M/775n681zua/uRPVotVx/Mde5eUL/f8xk1a6q76L61tU3MPPD9AymN+DmhyGG3PwwHwfzeTAEYCjQUKChQEOBhgINBRoKlNmnahg0NGho0NBwQ8MNDTc03NBwQ8MNDTejcEPBDQU3FMJQCEMhDIUwFMJQCEMhDIUwFMJQCF0N+j17tqjkhvR1Nv+8XJfm1nQyW602X8vnh7VpwK7h16OBLje9L9f7w2w9JxIz0HFbYf9c/v3blgDNzbjL5+xdfpf9kb0DUHiXfatuhbyvmhZt26Jr3FTCnK828y/Vs6Ko7rfl+mm5ftqvNoeqT1a3bI4HaqKW5fq5/IOufv9mf1V3vFIG5wtA3GXV/FbP73eb35dW4rnB5PNs/2Fz3M1tiwFovlkfZhUSzw+H8pVaDWLL6uahevTLZvPluDWtBvRysVjOl+V6Xo0M9kP79+Xucbk+HgwuktWkf/+82xxfPr8n9CSQ5tXoS/TQlzxAX4oQfZn76EsZoy9Vjb4k9DXmFvycN+BT06Jrc7FnbBD24GHPYqhlEUItdQpqxUZDrSAFtUIXasU9qJUIoFZ5CLWSPtRKxVCrooZaEdSKNVCzBmpqWnRtE6BGD2rpqznyGHqlQ+gLloK+gNHQF5iCvuAu9IXwoC/yAPpChtAXyoe+KGLoC11DXxD0QqgaetVAT02Lrs2BHvNh0PNzWq5ZCLWGFNQae6GOUNT8AgFo4UKt89NQ6whqfQHUutFybaHOBUHNuW6hNk2Lrm0C1OIs1JFWV4aUwhpYv15HYAPDAG12LxJ4A/N0G9gZ5QYWORZg8jzmwBovDsyiLjmhrlTrW6hp0bVNQD0/hzqwyI8DSzpygH5PHsNO4dQ5JQfwfDnAGWcOEC2cAMHKCZBYOgFa1MGGLoWoI5fWrVDTomub4NGlh/pPF7h0gFgMkBYDjl9QAZMrKqAvBvTFEIUvgLEY8IIABlA2UkCSwk9tAJlDI4afugDSNk6Qgzqr/RSj+7BTxJ6AXY+HnSdjRuBe0Agcz2g/5xHslECcCWaAN2E7cAu7EHkEO7VdB/ZiaEADPIrbgScDd+DjI3fgaVdVpVmuGCjhOqX9IsqdQPALtJ9SNxKDaMQg7YLLckcMsl5xbeNgMUArBu17oUvyJ6DM0hcE5ZmxICjzHCkIUaQFoT1BBDlsLAg3q60FQXntOUHYVNcIwuaxPymua3soWkFQ26JrnJJLsbN+iLJtH3dKtmPcKcUdiXuukrhX2bCHu/ZwB8p4PeBlDLwMgAcSV4i8bE1A1iYggZAvOHYmYNoWXeMEEwAYYQMytgGZtgE5wQZk2gakbwPKtwFQYSGnWi0jWajAG4FK1HJAtauCqhdjjnY15rIThm1cdK1T7GBwpgsqXhhUemFQ/QtDDL6KROSCXpwFvYgNoAgNIAl60bqeogHdgGjcjNQO6KZx0bVOMQE+uIqWQp2S/Rh1yosuRZ0KAv2oq7OoFzHq+hLUKYsn1HWLep11ae6i3uRdenL5TAxWdSos+KBTVSEGnQoII92OFkm3o3PP7VA94aQsqL7gy8KWExxZUEYfyAJZIwtktSwY8NoCVCcLalx0rWdkAadkkY9YBGITQJas/CA7Xfrx4EcW1X4c2DEoOiALqw7IokIPsqDSgyxRdkDWlNUQatgltymwAMfxUOOia53ieORw2BGiehtCGnboh/2cESDwlBEgeDU3hPycNCCWBlwkDWgqb9gmwvUyoArpZMLNMlC3TpGGGiONqCSHmCzJIY4vNSMma82IXkEO8axtYFSRQ5SXSAOb4hDyxjbqugQwdMQhm8pE0zxFHsUIeWBUJEJMFomQjy8SIU8WiZB7RSLk/Jw8eFQlQp5fIg/elIlQtPKolwjtiaNZIvRkaYzIlZFHtSPkydoR8vG1IxTJ2hEKr3aEAs9JQ0TFIxTiEmmIJk/AvJEG2rpFJWFHGlgXLurWCdJANkIaIl6wRTJTQDG+hIQiWULC3JaQ9jS2KTtUnzrMdi90KCFcEahsEaJcFy6afe/tZrm2PffHegk2jECr1u2D7ahqyX3GlMtYcRFjsmMMXMb6c98EY0XEmPYZK1zGgqAeqQIRMkZFiG4LtWVMDtiKQ6pSeIxJcYIxgIs4yzvOuMtZf+kmwZmKOCtOccZCzlLBt92MbzfkWs7UgB01pIqDx5niPmfETMcaXgKaEh1rucva6QwzYE1GrCmfNT2Cs6LjTLqc9Xv1mDOqKXicFRCABsNZKxyvoRzWiiFeo4i8RhF4DWKmYy0oL6X9RuH4jcJlbYjfKCK/UQR+g5jpWAtXtCRr2rEC7bCmh1iBjqxAh1YgPNbC0CdpoNqxAnDXAT3EDHRkBlqd5C0Mk9OwOXYA7lKgBxgCZ6EhcBYags9bsHxyyrcD3jjjDm/OasCZGMJbHvEmA948/4Es5C2x/caZixt3eRuCG0S4QYib79uKS3gDx4GAsyJwGOBBOIQehEPgQdB3bvoi3tzII3d5G+BCOIQuhEPoQrxoDeES3tBxIeAsCvxEIhzzhqEP4Rj6kGIEb64PUS5vA3wIx9CHcAx9iM+bvIg31xYKl7chtsAjW+ChLfi84SW8cdcWnHWB8yG2wCNb4KEteNFReHCihzfHFpC5vA2xBR7ZAtcneeOX8CYcW0BnXeBiiC2IyBYEP8mbuIg3xxbQXRfEEFsQkS0Iawtdxs0pqzQnz+nG9LMr58tt92x73C0P38xtnS2uZ6/0NLdn2o+72YpuSQ3n5vh7dWMk8Hn5/FxWt4vZal/aXBz+vPv46e4jfHL7ES6hmd9+W5ZUaSeN+VruKLRuujvsjqa39bZOweus/HhwGsAOJ+zUng7f7IRyZ3/gqT2tX7U7ezhP89VsT4etjW1+rB4aFComPxnWv9MEvmeMyOgUvrmiKBfpik7K0xUdfqcrg0ZOV2aukq7MRBVdGaYKujJsaLqiI/s0CMVbQKNQGgQ0DGU+QONQXgM0EO2gAo1EeQnQUJSKAI1FiQbQYLQfCTQaZQpIo1FygDQahf5Io9G+IdJoFLojjVYfqwVz3hLusb6u2m0q2ulRHZc3AqcQu1McG1nX8qfIOaE48k/SGl9zqKNaWTR9BR15SgIJJUmMxC7UmUIndEZy0hlp36TgVcRuVaa6BHrPgcBiLVQafajqtK+ZIO2YdUhp11Iosk7wr1JI6RNI2RD9JFI8bcwXIqVT1qUEIVVN+EKkikCptHahEhSft1AJe9bWzlBQ6J2YAK+hEp/cjnhI6bqjE04opV/1aw/jnRCZzseKESP6Sqc9JwTEojUuYYJNloComeHpTmTTiRzfh+pjxJxtrT4p7qr/PrW/HciLXu0UNtlY+8p4iR3jZbALYP3aaRinWVORQ1DWISqvW6uqoASi+/nJTp9bDAX1nqd8YQhF6zEmDCQTniQep7a3CeOoHzghd5zQ3q85Tq2gdiDtDySQXWW16tP2m6xaAiGt7YgJbTdH5UjdJZ8IZp0HdpavxFUWtF4wb7GwCXcP1wMzT4GpbNxopj4czEIl8Iu13nZ+UipKDOhpKJuiuOfel+xUIHBEYFeQf6rz75dgas1tJaj1QJAFFv8ffEcfWKmIF5mNUMwm7FX1iLPQLxdJBR43MMh78L66ceGfNC7eclymuoH5jxz4lIS9tUFwJ/UX5n2x3Wz9pc9F86SGcml1kXJmQTUmuwFldwYEFZIEr826jlvr9yiqazaCGBzibi7CzRtUOxfsc1aJuQg+Zi5iylzy9FwcnyPbqbA+V5JOlUdwo8ZNhVRLFE0uMoZYTyCui2QjiWEKMU4h5lOIhUN8VYPO6/SXkjdBGbKgepzdThNUgROSeexISLIzWY/NAkgVCirZClvfo9qeoLqekPbvW0ifG+UhO5C4mEKsJxArNoUYphDjFGI+hVhMIc6nEEtPZanmvrR/DIbqtOkkxVT8KdFxkz2nfG3Ufbdcv7SRnfLDU3pT7X+Ps/WBKvyAaWPAP++y98ddWX34sRph1/zeG8YOh+3+3du3u9nX+5fl4fPxH8d9uTOH18r14X6+eX27+7yZV9Fl87v+1P1y8/Z1tj+Uu7fL15e3+9lhs1ntF7P5YbP79mRC2v1bGuTp8b/gfrt+aQZ98/jlHm80MNqBOxdi/4JFwl24fobq5ta5gNlN2e7KfcXT7FB7ESqmp2F2OnECCPD3Qbw9lrPbIGlXO77CTUvUD0X/5812W8H/666s5f4jB3vYbdY3GuqX5Wu5P2zWtxjr581sdSv0HtYvm8NN5kR6cavhaG7vV7PDzdTwb5vnGwz1Yb4rv95gnP9Z3sSqfp79Y3Ubi1qbP9Z2i6H+Vi7Xi81uXj4/3VQJHzfPx9Vs9/Qfu2oRusU8N9XNTVSkerw8vt7Iz7fD3cpT/fdxOf/y9Tbm9uFQlqubzcyO9pdy9nqzwd4vt7fA8d/X89neGPj6+bg/7JazG05zdhuz+89y9vu3p1s7lcfOqZhzTn/Uh1PusupTR1OGb8+qJCLjPHmiI0qj6OBL9nP9ho7Jh9rrH50TfaiuZy/lUztglx85yYPInPJGIgPp2WmjYnSTVNLhr/YQmyikV6z1tjKoQNTXXy0D5kqgypeyXzYvy/1hOc+6yx8O3na1PFSfqNWwufWgK1roZBK6nl0bdWKqTu/tfhal9nSg/7A0z7DN8ISXkp+rTjnnRNp6gKAXgrMPr+WKZtdc/XB47TANuvauztc7DDQEma131mbM/lU+JZ+tz6aR6MAVHeg8/cAeUughyB7L3QuB/kOdHA0Smj292mF1V6V0V/ccgypcs6eXIjqzr18O6XsqTj7Ns1j5G5fRc0BUtNhy6WDLHdCHP5CXSM9a6mWLgv3bQsGqoH0PeVmtaIqn7p3EMBame7xoi89xgMntv6to7GWisq8Uh6JS2XWlMBwCK7xwN9gRZWqj+HpETPVTsfGizczbym/+Unn+yu+/EZ536vSMJ2Xdo6zCkVTOmLN4IHPqrOkKefqYpdejsxxJydouRZqZVJc5Q79L3nWpux7zvsUr1aPI+gKKOnrtC6s8AfDMZSvPnH3oSAA5/Y2W9CnZejjayU6tj/EDnw/Izrhir4O+9tq7nX7gQeIuAr0PelgSJxzrNXT5GvuRgd5NNo6c+Y5x+jGGnBXXNzd9bXMD1mNuvtyvgXD99uMVEQZPC66w654Dv7rMQFxdZk7gnut77X2dWKWSdl+oZHN9vi9uz9PuA/U0lq5NdGJlH0AFYizVx0pMxsvl9Oorr/+tD+8FsnR4mj1agb/5q3kzrbq1m74PD+42MDirmz0ZmY7RMvvZzBDTC5amqv7mV9rQ/tDcUkkzI47NMTc3fTW0j5n3b6vwC4e+mD/T9cNvWbBuYtiQuws6vY7cmmK8oGNPWSZanqXbK50cb80x0WtPTC7tRDiJ6cGrqVxhQ3xa9HIFxK4C0L8gJteJy/9lgM3p3d+ugMZ74imPRHgkMk1C1uxV5pzjN1b3jTh+s97KIP+bcTgPr1t7dOavm91r5Sc//R+GiVJP';\n        // const data = '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';\n        // // const data = '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';\n        // // const data = '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';\n        // // const data = 'eJy9W9tS40gS/ZUOPTOm7hcep3c3lthmhh0mZh86OgiNLYMCW/JKcvcQHfz7VKUsqUoq2aINIgBLZVfWyXOyLpmCz9+jr0lRpnkWXaEFwhfRQxHvHv8RV3F0FeHoItpt4uekODQQ01AmyyKpzA2NXi6+R1m+Skpzx8xbmzR7stfcvgPfnyNh2qX5UeZHmx+M7C9rGVtrmNpftjPm0RfzeWw7YNsD2y7Y9iG2D7F9iO1DbB9i+xDb53u0OqCzXbfx8jHNEntrjcSbTf4tWV1ntkF1Db/urQvEWk+zsoqzpe1C7UD7neFglfz+vAPHqB03XUVXGF1Ef0VXXCykZgJxzSUTUglxET1HV5SQhSBKYWneYUIRfhHlhtvlJl8+2c6md75Lsvs0uy83eWVMNy35voImaEmzVfIXXH19rl/MHTXaOF8Ys4vIuLlZ3Rb517QWgFpqHuPyLt8Xy7rF8rTMsyo2hKyuq2QLrZa49Ygj6xFPUtP52pj6lOdP+521wo2VZL1Ol2mSLU0vXH+ovE2KmzTbV0CnFcS2/v5Y5PuHx1sgnUoInINoVHmiUd0TjaG+aAz7ojEyFI3RRjRciybVQhOJCGaIK6EVaKb4ginGFWdKISQRO0sy7EkmfMkIPZA+BLIOI+nry1hfX8ZD+rKG9NfrxWRIL6ZcvZg+rhcf6MUn6MVJoxcBvQRCC6EkJ5ohQ5egoJdhx9CETKxqThUj5Cy9yBS9AkDWYSR9vTjt68VZSC/OR/RySOfiBOlyQLqaQLpuSKf1JNF0oe1qQIVQTJOadIr5QivBTcxSwbH8kXUNt6TTk+vaOoxkHYZymnWBQqwLfJp1QY6zLmifdcF81gUfsi5EwzoD1qlGC82Msxjb1VbwdjshnCikiKKC4JOk4yORzjzSfxpjPYBkHYQygXQZJF1NIN1fXyTqkS5xn3RJfNIlHZIuWUO6AtIVkgstKZUam9mNiAbSf+LahJ1ElCoqifFYi7OCnU/jPQBmPYamT73kfeqlCFEv5Qj1gQVfqt5egQJ7hdSuagodV00NVFMTVFPtLq5BNU3FQklp4pQgpKgioBrmJmylJExKbQ40nP7IttCJJqaJFsCyHgHT10wNdnIV3MnV+E4+0EzJCZopbydXJ2aaHuzkGp/WTDc7OamPyxqzBdLYfFOmtSS1ZpzqhVSGHawp4YLRsySTEyUbQlmHsfQV04MFTgf3cj22lwcU02KCYto7K2t1QjHdV8wweVoyjJoUh9SnZSXFgghCmSLSLPlCgmZSsYVADDNpdmDBz5tlauLSOESyDkLpK4bRIB3CKJgPYcSmi4ZR/xwdUg0j4cqGkTyuG0aDzNRE6QThIJkG4epjM1dowYUyAa604GbjqLc1jOnCiMwF5mYDV4jKs7TT07QLgFmPoRnIBxUCXz6oFwzlgwrCVPmg0nBSPlyfSEoY266UplMVFw9JrYwvDIaKxUAZ2G/bXH6Xp1kNYOwIFERrY8C07q5rQxEmyEcmXo+M4A4ZdpBBaWUqMijB+MiYjwzAtNB6wYxJ4GCMoX7TJWcdslecXTAUeXxk2kemXWByCmUUdcCoA4yOJREhYFCf8YBRegSYmgSMdcCYC+wV+xCGKo0PTPrApBdlfBIy1SHjLjI9isyDwNAxCHgKBOYEunAgsPFA9yHQY6sAnQTB0Ue6EF6jDxvow+QxZGwSMkcf5SIb12eIDGo9HjKOj8nWO/JjHihKYE47ZNpBxse3aR9CvXh32y2G6omtU8ONhVQky3TXvbfbF2n1DLf1CTmLt/W7lo3dZl/EG3sLpYR0mcOeDRWEx3S1SsztOt6UySFXebn4/OXiM/ri2IFKQrlLktVht92Znb6AmeGZS7PdYb89bMH7ymnAwfFo7dt99Vx7BFWJg/f3bXHftDOnfbmJS8s2sZH0ua57YwEV+C9Qt7foEXSDejxcWeYIXNngoXBlCWL2Cg41HK6sJwKurNsSriwoBVcWhoYrKx2GQSBnxTAKJKoYhoE8FMM4Eh4dwECQamIYCbJKDENBOolhLMgaMQwGmRaG0SDFIjAa5FUERoO0icBoyo5GYDTIjAiMput1CNlK4EvDia6jvI0is6K4UQMpUBc1kDw0MkPeEFBRvkDI+GED6cQhbDR89Qx58YL78ULD8dmLFy3C8aJlIF6ohngxDsOzGpOQ1OFiLnV9+X3ITOPYkX7He4Q/KXgUII1AxhMmjaDBJKPTJhmZRhpBZJw0mF5hVwiibgQRSEnaCCKQdLQ+iHAE0QMZ3CND9hYez8rx8AkzwacyoQJMSARMwGpAkB4uNwTX881Mb/QyZKhx8LgJfL4Jcr4Jer4J5ploNMXOqiCMpEWcPcFuEVALjWkDYVg/a4WzOMH1ogjrISQpBDczukZD2pUQ/UBn7HTuXCHuvkhaX8KRh4O+EPojvrBzfOHndBY/1Pm9PnsAJc/xSAWlPT9KSb1s1qdEAkcUAhkXoXULzByTAnX7DhzkUjhHEjgZhs9L9hQJa5dTAXWPRBZ4kWYPzSJHqPCPhZaH/+/jrIJjowh7ZQ6C0S95sTVr+EV0Y4YomtfSIquqXXl1eVnE3xYPafW4/3NfJoUtbyRZtVjm28viMV+albZ5PXxqkeaX27iskuIy3T5clnGV55tyHS+rvHi+t8t7eQmD3N/8By922UMz6Iebp4Vhr1OIyjBBnoyQx7XaFcmuSEoDMK4OIkE+F3a+M8KcczOBtOwQGMQ/Czd2qmKfTDgM23HYtNMvYaGNGeL+XZX4mO92Ropfi+QgxXsOdl3k2UxDfUq3SVnl2RxjfczjzVzsXWcPeTWLTxAXcw0Hvt1u4mq2MPwtX80w1N2ySL7NMM7/0llm1cf4z808Myqzf8M3x1C/JWm2zotlsrqfNQhv8tV+Exf3/yrMHjSHn7m5mSVEzNvpfjvTOt8ON9dK9d99unz6Ns90u6uSZDObZ/VoPyfxdrbBbk3KOcNg/8yWcWkneLbal1WRxjO6Gc8z7f6dxF+f7+deVG66RcUWtP+qUw3zkb2tC9mCZPQpf0jLKl1G3eV7Zxd3u01amU8cCGhuX51awN/o1qmFCKUW8H64VPq9TeGgft8+biCMeXU05hTO6kp2GFR0kxQPkJ+9q5wwSKNni1G0NMggDSOwleeobMp5kNfA050qte+RNsFibs56ssTilOzahJkwm5JHd9tkA4I3V+8ecfUwTcDVd8N89i1SVe6mqlAkdVPVIwlqqHxqrYuJ9VLiJq5evfQw9akz9dH7tUb2Dys+/GwoNgR/8AjmbuYu25oOGauYB7zk3pMSAs/6DhYZby2GH1zQsEV/xnO37CRQa5IFTbKwSeGbdGrourPIgxZ52KLqdHSXcEyCzWKgA/F00JFTKR0GOjymDEnSDga11mY0GQZBxWuaRzypm990hr5BzVhgX+Dz41q8eVwL+uZxLdhbx3X9CM68QsEYDBIhI/cZJh/RFHbd2uKHX+yzeXMLC3p07VYsyUylUtLfls+YZNFdVP/PW13l+WBSNetS1wApRwTEKZeswzZ+OK/IkT8w4C/eHmgZ8tYK6rohOjdIyA054gbtr0DMtQrQ2pgOWCVhq6xvlXtWuwMhC1odeXbO+1aFZ5VHTmgHrI6cr8QLRCTQe/1my+8b6PImMrwJ629CsmNEeo9V6MjDIq+L/yQG9oMx6r3Db3OihX9jsDpT0Pm6Xoasy9d/1NfWs8OldeIP+5Hr7W4Pk/oWXl6dcHz5G2x1HQ0=';\n        this.loadGraphData(this.props.parentAccessor.state.coreGraphData);\n        this.analyze();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.state.selectedPath !== prevState.selectedPath || this.state.selectedNode !== prevState.selectedNode) {\n            this.props.parentAccessor.setState({\n                selectedPath: this.state.selectedPath,\n                selectedNode: this.state.selectedNode\n            });\n        }\n    }\n\n\n    render() {\n        return <svg id=\"mainRender\"/>;\n    }\n}\n\nexport default GraphSvg;","import React from 'react';\nimport {ClickAwayListener, withStyles} from '@material-ui/core';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\n\nconst styles = theme => ({});\n\nclass ClickAwayListenerV2 extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.windowOnClobber = null;\n        this.clobberList = [];\n    }\n\n    componentDidMount() {\n        this.windowOnClobber = d3.select(this.props.clobberedElement).on('click');\n        d3.select(this.props.clobberedElement).on('click', this.props.onClickAway);\n\n        for (let elem of document.querySelectorAll('*')) {\n            this.clobberList.push(elem);\n            elem.addEventListener('click', this.props.onClickAway, true);\n        }\n    }\n\n    componentWillUnmount() {\n        d3.select(this.props.clobberedElement).on('click', this.windowOnClobber);\n        for (let elem of this.clobberList) {\n            elem.removeEventListener('click', this.props.onClickAway, true);\n        }\n        this.clobberList = [];\n    }\n\n    render() {\n        const {onClickAway} = this.props;\n\n        return (\n            <ClickAwayListener onClickAway={onClickAway}>\n                {this.props.children}\n            </ClickAwayListener>\n        );\n    }\n}\n\nClickAwayListenerV2.propTypes = {\n    classes: PropTypes.object.isRequired,\n    clobberedElement: PropTypes.string.isRequired,\n    onClickAway: PropTypes.func.isRequired,\n    children: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ClickAwayListenerV2);","import React from 'react';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport {withStyles} from '@material-ui/core';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport ClickAwayListenerV2 from \"./ClickAwayListenerV2\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\r\n\r\nconst styles = theme => ({\r\n    root: {},\r\n    button: {\r\n        flex: '0 0 100%',\r\n        justifyContent: 'left',\r\n        padding: 10,\r\n    },\r\n    paper: {\r\n        margin: theme.spacing.unit * 2,\r\n        display: 'flex',\r\n    },\r\n    label: {\r\n        paddingLeft: 10,\r\n    },\r\n    popper: {\r\n        zIndex: 1200,\r\n        left: '13px !important',\r\n    },\r\n    itemListIcon: {\r\n        height: 24,\r\n        width: 24,\r\n        paddingRight: 15,\r\n    },\r\n    tooltip: {},\r\n    tooltipIcon: {\r\n        height: 40,\r\n        display: 'inline-block',\r\n        paddingLeft: 10\r\n    },\r\n    tooltipIconFirst: {\r\n        height: 40,\r\n        display: 'inline-block',\r\n    },\r\n    tooltipText: {\r\n        fontSize: 18,\r\n        display: 'inline-block',\r\n    },\r\n    maxHeightPaper: {\r\n        overflowY: 'auto',\r\n        maxHeight: 600\r\n    }\r\n});\r\n\r\nclass SidebarButton extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {anchorEl: null};\r\n    }\r\n\r\n    handleMenu = event => {\r\n        this.setState({anchorEl: event.currentTarget});\r\n    };\r\n\r\n    handleClose = (event) => {\r\n        this.setState({anchorEl: null });\r\n    };\r\n\r\n    clickAwayClose = (event) => {\r\n        // event.stopImmediatePropagation();\r\n        if (this.state.anchorEl) {\r\n            this.setState({anchorEl: null});\r\n        }\r\n    };\r\n\r\n    listItems(classes, label, appObject) {\r\n        return this.props.items.map((link) => {\r\n            return (\r\n                <Tooltip key={link.id} className={classes.tooltip} placement=\"right\" title={\r\n                    link.inputs.map((element, index) => {\r\n                        return (\r\n                            <React.Fragment key={element.item.id}>\r\n                                <img src={element.item.icon}\r\n                                     className={index === 0 ? classes.tooltipIconFirst : classes.tooltipIcon}/>\r\n                                <div className={classes.tooltipText}>{element.quantity}</div>\r\n                            </React.Fragment>\r\n                        );\r\n                    })\r\n                }>\r\n                    <MenuItem onClick={() => {\r\n                        const machine_nodes = appObject.state.machine_node.machine_node;\r\n                        machine_nodes.sort((node1, node2) => node1.rank - node2.rank);\r\n                        const upgrades = machine_nodes.filter(node => node.machine_class.id === link.machine_class.id);\r\n                        const instance = upgrades[0];\r\n\r\n                        appObject.graphSvg.addNode(\r\n                            {\r\n                                data: {recipe: link},\r\n                                machine: link.machine_class,\r\n                                allowedIn: link.inputs.map(dict => dict.item.id),\r\n                                allowedOut: [link.item.id],\r\n                                instance: instance,\r\n                                upgradeTypes: upgrades\r\n                            }\r\n                        );\r\n                        this.handleClose();\r\n                    }}>\r\n                        <img alt=\"probably some goat image\" src={link.item.icon} className={classes.itemListIcon}/>\r\n                        {link.name}\r\n                        <div className={classes.grow}/>\r\n                    </MenuItem>\r\n                </Tooltip>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {classes, label, appObject} = this.props;\r\n        const {anchorEl} = this.state;\r\n        const open = Boolean(anchorEl);\r\n        const listItems = this.listItems(classes, label, appObject);\r\n        return (\r\n            <React.Fragment key={label}>\r\n                <Paper className={classes.paper}>\r\n                    <Button\r\n                        aria-owns={open ? 'menu-appbar' : null}\r\n                        aria-haspopup=\"true\"\r\n                        onClick={open ? this.handleClose : this.handleMenu}\r\n                        className={classes.button}\r\n                    >\r\n                        {\r\n                            open ? <RemoveCircleIcon/> : <AddCircleOutlineIcon/>\r\n                        }\r\n                        \r\n                        <div className={classes.label}>\r\n                            {label}\r\n                        </div>\r\n                    </Button>\r\n                    <Popper className={classes.popper} open={open} anchorEl={anchorEl} transition\r\n                            placement=\"right-start\">\r\n                        {({TransitionProps, placement}) => (\r\n                            <Grow\r\n                                {...TransitionProps}\r\n                                id=\"menu-list-grow-2\"\r\n                                style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}\r\n                            >\r\n                                <Paper className={classes.maxHeightPaper}>\r\n                                    <ClickAwayListenerV2 onClickAway={this.clickAwayClose}\r\n                                                         clobberedElement={'#mainRender'}>\r\n                                        <MenuList>\r\n                                            {listItems}\r\n                                        </MenuList>\r\n                                    </ClickAwayListenerV2>\r\n                                </Paper>\r\n                            </Grow>\r\n                        )}\r\n                    </Popper>\r\n                </Paper>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(SidebarButton);","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport {withStyles} from '@material-ui/core';\n\nconst styles = theme => ({\n    root: {},\n});\n\nclass PopupDialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const {classes, title, contents, open, handleModalClose, children} = this.props;\n        return (\n            <Dialog\n                className={classes.modal}\n                open={Boolean(open)}\n                onClose={handleModalClose}\n                id='modal'\n            >\n                <DialogTitle>{title}</DialogTitle>\n                <DialogContent>\n                    {children}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleModalClose} color='secondary'>Close</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nexport default\nwithStyles(styles)(PopupDialog);","import React from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport HelpIcon from '@material-ui/icons/Help';\n\nimport PopupDialog from './PopupDialog';\nimport {withStyles} from '@material-ui/core';\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nconst styles = theme => ({\n    fab: {\n        position: 'absolute',\n        bottom: theme.spacing.unit * 2,\n        right: theme.spacing.unit * 2,\n    },\n});\n\nclass FabPopup extends React.Component {\n\n    constructor(props) {\n        super(props);\n        const dontShowAgain = window.localStorage.getItem('dontShowAgain');\n        let modalOpen = false;\n        let dontShow = false;\n\n        if (dontShowAgain === '1') {\n            window.localStorage.setItem('dontShowAgain', '1');\n            dontShow = true;\n        } else {\n            window.localStorage.setItem('dontShowAgain', '0');\n            dontShow = false;\n        }\n\n        if (!dontShow) {\n            modalOpen = true;\n        }\n\n        this.state = {modalOpen, dontShow};\n    }\n\n    handleDontShow = event => {\n        this.setState({ dontShow: event.target.checked });\n        if (event.target.checked) {\n            window.localStorage.setItem('dontShowAgain', '1');\n        } else {\n            window.localStorage.setItem('dontShowAgain', '0');\n        }\n    };\n\n    render() {\n        const {classes, title} = this.props;\n        const children = this.props.children;\n        return (\n            <React.Fragment>\n                <Fab id='helpFab' aria-label='help' color='secondary' className={classes.fab}\n                     onClick={() => this.setState({modalOpen: true})}>\n                    <HelpIcon/>\n                </Fab>\n                <PopupDialog title={''} open={this.state.modalOpen}\n                             handleModalClose={() => this.setState({modalOpen: false})}>\n                    {children}\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={this.state.dontShow}\n                                onChange={this.handleDontShow}\n                                value=\"checkedA\"\n                            />\n                        }\n                        label=\"Don't show this message again\"\n                    />\n\n                </PopupDialog>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(FabPopup);","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nimport PopupDialog from './PopupDialog';\nimport {withStyles} from '@material-ui/core';\n\nconst styles = theme => ({\n    icons: {\n        marginRight: 0\n    },\n});\n\nclass SidebarPopup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {modalOpen: false};\n    }\n\n    render() {\n        const {classes, Icon, label, title, contents} = this.props;\n\n        return (\n            <React.Fragment>\n                <ListItem button key={label} onClick={() => this.setState({modalOpen: true})}>\n                    <ListItemIcon className={classes.icons}><Icon/></ListItemIcon>\n                    <ListItemText primary={label}/>\n                </ListItem>\n                <PopupDialog title={title} open={this.state.modalOpen}\n                             handleModalClose={() => this.setState({modalOpen: false})}>\n                    {this.props.children}\n                </PopupDialog>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(SidebarPopup);","import React from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\n\nimport {withStyles} from '@material-ui/core';\nimport MenuList from '@material-ui/core/MenuList';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListenerV2 from \"./ClickAwayListenerV2\";\n\nconst styles = theme => ({\n    root: {},\n    paper: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n    },\n    label: {\n        paddingLeft: 10,\n    },\n    popper: {\n        zIndex: 1200,\n        left: '13px !important',\n    },\n    itemListIcon: {\n        height: 24,\n        width: 24,\n        paddingRight: 15,\n    },\n});\n\nclass InnerNestedSidebarButton extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {anchorEl: null};\n    }\n\n    handleMenu = event => {\n        if (event.currentTarget === this.state.lastTarget)\n            return;\n        this.setState({anchorEl: event.currentTarget, selectedButton: event.currentTarget.id});\n    };\n\n    handleClose = (event) => {\n        this.setState({\n            anchorEl: null,\n            lastTarget: this.state.anchorEl,\n            selectedButton: null\n        }, () => new Promise(resolve => setTimeout(resolve, 100)).then(() => this.setState({lastTarget: null})));\n    };\n\n    render() {\n        const {classes, resource, appObject} = this.props;\n        const {anchorEl} = this.state;\n        const icon = resource.item.icon;\n        const label = resource.item.name;\n        const listItems = resource.purities;\n        const machineIcon = resource.machine_class.icon;\n        const open = Boolean(anchorEl);\n        return (\n            <React.Fragment key={label}>\n                <MenuItem\n                    aria-owns={open ? 'menu-appbar' : null}\n                    aria-haspopup=\"true\"\n                    onClick={open ? this.handleClose : this.handleMenu}\n                    selected={this.state.selectedButton === label}\n                    id={label}\n                >\n                    <img src={icon} className={classes.itemListIcon}/>\n                    {label}\n                </MenuItem>\n                <Popper className={classes.popper} open={open} anchorEl={anchorEl} transition placement=\"right-start\">\n                    {({TransitionProps, placement}) => (\n                        <Grow\n                            {...TransitionProps}\n                            id=\"menu-list-grow\"\n                            style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}\n                        >\n                            <Paper>\n                                <ClickAwayListenerV2 onClickAway={this.handleClose} clobberedElement={'#mainRender'}>\n                                    <MenuList>\n                                        {\n                                            listItems.map((item) => {\n                                                return (\n                                                    <MenuItem onClick={\n                                                        () => {\n                                                            const machine_nodes = appObject.state.machine_node.machine_node;\n                                                            machine_nodes.sort((node1, node2) => node1.rank - node2.rank);\n                                                            const upgrades = machine_nodes.filter(node => node.machine_class.id === resource.machine_class.id);\n                                                            const instance = upgrades[0];\n                                                            appObject.graphSvg.addNode(\n                                                                {\n                                                                    data: {\n                                                                        machine: resource,\n                                                                        node: item,\n                                                                        recipe: resource,\n                                                                        purity: item.name\n                                                                    },\n                                                                    machine: resource.machine_class,\n                                                                    allowedIn: [],\n                                                                    allowedOut: [resource.item.id],\n                                                                    instance: instance,\n                                                                    upgradeTypes: upgrades,\n                                                                }\n                                                            );\n                                                            this.handleClose();\n                                                        }\n                                                    } key={label + item.name}><img src={machineIcon}\n                                                                                   className={classes.itemListIcon}/>{item.name}\n                                                    </MenuItem>\n                                                );\n                                            })\n                                        }\n                                    </MenuList>\n                                </ClickAwayListenerV2>\n                            </Paper>\n                        </Grow>\n                    )}\n                </Popper>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(InnerNestedSidebarButton);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\nimport Popper from '@material-ui/core/Popper';\nimport {withStyles} from '@material-ui/core';\nimport MenuList from '@material-ui/core/MenuList';\nimport Grow from '@material-ui/core/Grow';\n\nimport InnerNestedSidebarButton from './InnerNestedSidebarButton';\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nconst styles = theme => ({\n    root: {},\n    button: {\n        flex: '0 0 100%',\n        justifyContent: 'left',\n        padding: 10,\n    },\n    paper: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n    },\n    label: {\n        paddingLeft: 10,\n    },\n    popper: {\n        zIndex: 1200,\n        left: '13px !important',\n    },\n    itemListIcon: {\n        height: 24,\n        width: 24,\n        paddingRight: 15,\n    },\n});\n\nclass NestedSidebarButton extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {anchorEl: null};\n    }\n\n    handleMenu = event => {\n        if (event.currentTarget === this.state.lastTarget)\n            return;\n        this.setState({anchorEl: event.currentTarget});\n    };\n\n    handleClose = () => {\n        this.setState({\n            anchorEl: null,\n            lastTarget: this.state.anchorEl\n        }, () => new Promise(resolve => setTimeout(resolve, 100)).then(() => this.setState({lastTarget: null})));\n    };\n\n    render() {\n        const {classes, listItems, label, appObject} = this.props;\n        const {anchorEl} = this.state;\n        const open = Boolean(anchorEl);\n        return (\n            <React.Fragment key={label}>\n                <Paper className={classes.paper}>\n                    <Button\n                        aria-owns={open ? 'menu-appbar' : null}\n                        aria-haspopup=\"true\"\n                        onClick={open ? this.handleClose : this.handleMenu}\n                        className={classes.button}\n                    >\n                        {\n                            open ? <RemoveCircleIcon/> : <AddCircleOutlineIcon/>\n                        }\n                        <div className={classes.label}>{label}</div>\n                    </Button>\n                    <Popper className={classes.popper} open={open} anchorEl={anchorEl} transition\n                            placement=\"right-start\">\n                        {({TransitionProps, placement}) => (\n                            <Grow\n                                {...TransitionProps}\n                                id=\"menu-list-grow\"\n                                style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}\n                            >\n                                <Paper>\n                                    <ClickAwayListener onClickAway={this.handleClose}>\n                                        <MenuList>\n                                            {Object.keys(listItems).map(key => {\n                                                const returnDivList = [];\n                                                if (['Miner'].includes(key)) {\n                                                    listItems[key].forEach(resource => {\n                                                        returnDivList.push(<InnerNestedSidebarButton\n                                                            appObject={appObject} resource={resource}/>);\n                                                    });\n                                                }\n                                                return returnDivList;\n                                            })}\n                                        </MenuList>\n                                    </ClickAwayListener>\n                                </Paper>\n                            </Grow>\n                        )}\n                    </Popper>\n                </Paper>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(NestedSidebarButton);","import React from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\nimport Popper from '@material-ui/core/Popper';\nimport {withStyles} from '@material-ui/core';\nimport MenuList from '@material-ui/core/MenuList';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListenerV2 from \"./ClickAwayListenerV2\";\n\nconst styles = theme => ({\n    root: {},\n    button: {\n        flex: '0 0 100%',\n        justifyContent: 'left',\n        padding: 10,\n    },\n    paper: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n    },\n    label: {\n        paddingLeft: 10,\n    },\n    popper: {\n        zIndex: 1200,\n        left: '13px !important',\n    },\n    itemListIcon: {\n        height: 24,\n        width: 24,\n        paddingRight: 15,\n    },\n});\n\nclass SimpleSidebarButton extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {anchorEl: null};\n    }\n\n    handleMenu = event => {\n        if (event.currentTarget === this.state.lastTarget)\n            return;\n        this.setState({anchorEl: event.currentTarget});\n    };\n\n    handleClose = () => {\n        this.setState({\n            anchorEl: null,\n            lastTarget: this.state.anchorEl\n        }, () => new Promise(resolve => setTimeout(resolve, 100)).then(() => this.setState({lastTarget: null})));\n    };\n\n    render() {\n        const {classes, listItems, label, appObject} = this.props;\n        const {anchorEl} = this.state;\n        const open = Boolean(anchorEl);\n\n        return (\n            <Paper className={classes.paper}>\n                <Button\n                    aria-owns={open ? 'menu-appbar' : null}\n                    aria-haspopup=\"true\"\n                    onClick={open ? this.handleClose : this.handleMenu}\n                    className={classes.button}\n                >\n                        {\n                            open ? <RemoveCircleIcon/> : <AddCircleOutlineIcon/>\n                        }\n                    <div className={classes.label}>Logistics</div>\n                </Button>\n                <Popper className={classes.popper} open={open} anchorEl={anchorEl} transition placement=\"right-start\">\n                    {({TransitionProps, placement}) => (\n                        <Grow\n                            {...TransitionProps}\n                            id=\"menu-list-grow-1\"\n                            style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}\n                        >\n                            <Paper>\n                                <ClickAwayListenerV2 onClickAway={this.handleClose} clobberedElement={'#mainRender'}>\n                                    <MenuList>\n                                        {Object.keys(listItems).map(key => {\n                                            const returnDivList = [];\n                                            if (!['Miner', 'Logistic'].includes(key)) {\n                                                listItems[key].forEach(resource => {\n                                                    returnDivList.push(<MenuItem onClick={() => {\n                                                        const machine_nodes = appObject.state.machine_node.machine_node;\n                                                        machine_nodes.sort((node1, node2) => node1.rank - node2.rank);\n                                                        const upgrades = machine_nodes.filter(node => node.machine_class.id === resource.machine_class.id);\n                                                        const instance = upgrades[0];\n                                                        appObject.graphSvg.addNode(\n                                                            {\n                                                                data: {recipe: resource},\n                                                                machine: resource.machine_class,\n                                                                allowedIn: [],\n                                                                allowedOut: [],\n                                                                instance: instance,\n                                                                upgradeTypes: upgrades\n                                                            }\n                                                        );\n                                                        this.handleClose();\n                                                    }}\n                                                                                 key={resource.machine_class.name + resource.machine_class.id}>\n                                                        <img\n                                                            src={resource.machine_class.icon}\n                                                            className={classes.itemListIcon}/>{resource.machine_class.name}\n                                                    </MenuItem>);\n                                                });\n                                            }\n                                            if (['Logistic'].includes(key)) {\n                                                listItems[key].forEach(resource => {\n                                                    returnDivList.push(<MenuItem onClick={() => {\n                                                        const machine_nodes = appObject.state.machine_node.machine_node;\n                                                        machine_nodes.sort((node1, node2) => node1.rank - node2.rank);\n                                                        const upgrades = machine_nodes.filter(node => node.machine_class.id === resource.machine_class.id && resource.name === node.name);\n                                                        const instance = upgrades[0];\n                                                        appObject.graphSvg.addNode(\n                                                            {\n                                                                data: {recipe: resource},\n                                                                machine: resource.machine_class,\n                                                                allowedIn: [],\n                                                                allowedOut: [],\n                                                                instance: instance,\n                                                                upgradeTypes: upgrades\n                                                            }\n                                                        );\n                                                        this.handleClose();\n                                                    }}\n                                                                                 key={resource.name}>\n                                                        <img src={resource.icon}\n                                                             className={classes.itemListIcon}/>{resource.name}\n                                                    </MenuItem>);\n                                                });\n                                            }\n                                            return returnDivList;\n                                        })}\n                                    </MenuList>\n                                </ClickAwayListenerV2>\n                            </Paper>\n                        </Grow>\n                    )}\n                </Popper>\n            </Paper>\n        );\n    }\n}\n\nexport default withStyles(styles)(SimpleSidebarButton);","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport UndoIcon from '@material-ui/icons/Undo';\nimport {withStyles} from '@material-ui/core';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport {useExperimentalFeature} from \"./GraphSvg/util\";\nimport * as d3 from 'd3'\nconst styles = theme => ({\n    root: {},\n    paper: {\n        margin: 16,\n        padding: 12,\n        display: 'flex',\n        flexDirection: 'column',\n        flexShrink: 0\n    },\n    textField: {\n        paddingBottom: 10,\n    },\n    button: {\n        flex: 1,\n        marginTop: 10,\n        textAlign: 'left',\n        justifyContent: 'left',\n    },\n    label: {\n        paddingLeft: 10,\n    },\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: theme.spacing.unit / 4,\n    },\n    tooltip: {},\n    tooltipIcon: {\n        height: 40,\n        display: 'inline-block',\n        paddingLeft: 10\n    },\n    tooltipIconFirst: {\n        height: 40,\n        display: 'inline-block',\n    },\n    tooltipText: {\n        fontSize: 18,\n        display: 'inline-block',\n    },\n    checkbox: {\n        paddingLeft: 22,\n    },\n    checkboxLabel: {\n        height: 30,\n        paddingTop: 30,\n        paddingBottom: 16, \n        fontFamily: 'Roboto sans-serif',\n        fontWeight: 'bold',\n    }\n});\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n    PaperProps: {\n        style: {\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n        },\n    },\n};\n\nclass SidebarPanel extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            playerUnlock: this.props.playerUnlock.player_unlock,\n            recipe: this.props.playerUnlock.recipe,\n            selectedDrives: [],\n            // (props.parentState.graphSvg && props.parentState.graphSvg.state.snapToGrid) ||\n            checked: true,\n            showAllLines: true\n        };\n    }\n\n    handleChangeMultiple = event => {\n        console.log(event.currentTarget);\n        const options = event.currentTarget.parentElement.children;\n        const value = [];\n        for (let i = 0, l = options.length; i < l; i += 1) {\n            if (options[i].getAttribute('value') === event.currentTarget.getAttribute('value')) {\n                if (this.state.selectedDrives.indexOf(options[i].getAttribute('value')) === -1) {\n                    value.push(options[i].getAttribute('value'));\n                }\n            } else {\n                if (options[i].querySelector('input').checked) {\n                    value.push(options[i].getAttribute('value'));\n                }\n            }\n        }\n        this.setState({\n            selectedDrives: value,\n        });\n    };\n\n    handleCheckboxChange = () => {\n        this.props.parentState.graphSvg.setState({snapToGrid: !this.props.parentState.graphSvg.state.snapToGrid},\n            () => {\n                this.setState({ checked: this.props.parentState.graphSvg &&\n                        this.props.parentState.graphSvg.state.snapToGrid})\n            })\n    };\n\n    showHideLines = () => {\n        this.setState({showAllLines: !this.state.showAllLines}, () => {\n            if (this.state.showAllLines) {\n                d3.selectAll('.link-has-no-problems').classed('hiddenGraphElement', false)\n            } else {\n                d3.selectAll('.link-has-no-problems').classed('hiddenGraphElement', true)\n            }\n            d3.selectAll('.link-has-problems').classed('hiddenGraphElement', false)\n        });\n    };\n\n    render() {\n        const {classes, parentState, playerUnlock} = this.props;\n        return (\n            <Paper className={classes.paper}>\n                <Typography variant=\"h5\">Settings</Typography>\n                {/*<TextField*/}\n                {/*label='Default Conveyor Speed'*/}\n                {/*type='number'*/}\n                {/*className={classes.textField}*/}\n                {/*fullWidth*/}\n                {/*>*/}\n                {/*</TextField>*/}\n\n                {/*<FormControl className={classes.formControl}>*/}\n                {/*<InputLabel htmlFor=\"select-multiple-chip\">Hard Drives</InputLabel>*/}\n                {/*<Select*/}\n                {/*multiple*/}\n                {/*value={this.state.selectedDrives}*/}\n                {/*onChange={this.handleChangeMultiple}*/}\n                {/*input={<Input id=\"select-multiple-chip\" />}*/}\n                {/*MenuProps={MenuProps}*/}\n                {/*renderValue={selected => (*/}\n                {/*<div className={classes.chips}>*/}\n                {/*{selected.map(value => (*/}\n                {/*<Chip key={value} label={value} className={classes.chip} />*/}\n                {/*))}*/}\n                {/*</div>*/}\n                {/*)}*/}\n                {/*>*/}\n                {/*{this.state.playerUnlock.map(drive => {*/}\n                {/*return (<Tooltip key={drive.name+drive.id+'toolip'} className={classes.tooltip} placement=\"right\" title={*/}\n                {/*this.state.recipe[drive.id].inputs.map((element, index) => {*/}\n                {/*return (*/}\n                {/*<React.Fragment key={element.item.id}>*/}\n                {/*<img src={element.item.icon} className={index === 0 ? classes.tooltipIconFirst : classes.tooltipIcon}/>*/}\n                {/*<div className={classes.tooltipText}>{element.quantity}</div>*/}\n                {/*</React.Fragment>*/}\n                {/*);*/}\n                {/*})*/}\n                {/*}>*/}\n                {/*<MenuItem key={drive.name+drive.id} value={drive.name}>*/}\n                {/*<Checkbox checked={this.state.selectedDrives.indexOf(drive.name) !== -1} color=\"primary\" />*/}\n                {/*<ListItemText primary={drive.name} />*/}\n                {/*</MenuItem>*/}\n                {/*</Tooltip>);*/}\n                {/*})}*/}\n                {/*</Select>*/}\n                {/*</FormControl>*/}\n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={this.state.checked}\n                            onChange={this.handleCheckboxChange}\n                            value=\"snapToGrid\"\n                            className={classes.checkbox}\n                        />\n                    }\n                    label=\"Snap To Grid\"\n                    className={classes.checkboxLabel}\n                />\n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={this.state.showAllLines}\n                            onChange={this.showHideLines}\n                            value=\"snapToGrid\"\n                            className={classes.checkbox}\n                        />\n                    }\n                    label=\"Show All Belts\"\n                    className={classes.checkboxLabel}\n                />\n                {/*<Button className={classes.button} fullWidth onClick={() => {*/}\n                {/*    parentState.graphSvg.jiggle();*/}\n                {/*}}>*/}\n                {/*    <ShuffleIcon/>*/}\n                {/*    <div className={classes.label}>Rejiggle Graph</div>*/}\n                {/*</Button>*/}\n                <Button className={classes.button} fullWidth onClick={() => {\n                    parentState.graphSvg.resetCamera();\n                }}>\n                    <ReplayIcon/>\n                    <div className={classes.label}>Reset Camera</div>\n                </Button>\n                {/*<Button className={classes.button} fullWidth onClick={() => {*/}\n                {/*    parentState.graphSvg.fixNodes();*/}\n                {/*}}>*/}\n                {/*    <ReplayIcon/>*/}\n                {/*    <div className={classes.label}>Fix Nodes</div>*/}\n                {/*</Button>*/}\n                {/*<Button className={classes.button} fullWidth onClick={() => {*/}\n                {/*    parentState.graphSvg.unfixNodes();*/}\n                {/*}}>*/}\n                {/*    <UndoIcon/>*/}\n                {/*    <div className={classes.label}>Unfix Nodes</div>*/}\n                {/*</Button>*/}\n            </Paper>\n        );\n    }\n}\n\nexport default withStyles(styles)(SidebarPanel);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport PopupDialog from './PopupDialog';\nimport {withStyles} from '@material-ui/core';\n\nconst styles = theme => ({\n    label: {\n        paddingLeft: 10,\n    },\n    dialogContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n\nclass ClearButton extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {modalOpen: false};\n    }\n\n    handleModalClose = () => this.setState({modalOpen: false});\n    handleModalOpen = () => this.setState({modalOpen: true});\n\n\n    render() {\n        const {classes, label, title, children, onClick} = this.props;\n        return (\n            <React.Fragment>\n                <Button color='inherit' onClick={onClick || this.handleModalOpen}>\n                    <DeleteIcon/>\n                    <div className={classes.label}>Clear</div>\n                </Button>\n                <PopupDialog title={'Clear Graph?'} open={this.state.modalOpen}\n                             handleModalClose={this.handleModalClose}>\n                    <div className={classes.dialogContainer}>\n                        <Typography variant=\"h5\">Are you sure you want to clear everything?</Typography>\n                        <Button color=\"secondary\" variant=\"outlined\" className={`${classes.dialogButton}`} onClick={\n                            () => {\n                                this.props.t.graphSvg.clearGraphData(this.props.t);\n                                this.handleModalClose();\n                            }\n                        }>\n                            <DeleteIcon/>\n                            <div className={classes.label}>Yes, I'm sure!</div>\n                        </Button>\n                    </div>\n                </PopupDialog>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(ClearButton);","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport PopupDialog from './PopupDialog';\nimport {withStyles} from '@material-ui/core';\nimport ShareIcon from '@material-ui/icons/Share';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport TextField from '@material-ui/core/TextField';\nimport {rebuildQueryParams, useExperimentalFeature} from \"./GraphSvg/util\";\n\nconst styles = theme => ({\n    label: {\n        paddingLeft: 10,\n    },\n    dialogContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    inlineDialogButton: {\n        paddingTop: 10,\n        paddingBottom: 10,\n    },\n    dialogButton: {\n        marginTop: 10,\n    },\n    statusMessage: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n\nclass ShareButton extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {modalOpen: false, value: true};\n    }\n\n    handleModalClose = () => this.setState({modalOpen: false});\n    handleModalOpen = () => this.setState({modalOpen: true});\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!prevState.modalOpen && this.state.modalOpen) {\n            this.setState({value: 'Loading...'}, () => {\n                this.props.t.graphSvg.uploadDataWithResponse().then(resp => {\n                    const port = window.location.port ? ':' + window.location.port : ''\n                    const url = window.location.protocol + '//' +  window.location.hostname + port + window.location.pathname\n                        + '#' +  resp + rebuildQueryParams();\n                    this.setState({value: url});\n                })\n            })\n        }\n    }\n\n    render() {\n        const {classes, onClick} = this.props;\n        let value = this.state.value;\n\n        return (\n            <React.Fragment>\n                <Button color='inherit' onClick={onClick || this.handleModalOpen}>\n                    <ShareIcon/>\n                    <div className={classes.label}>Share</div>\n                </Button>\n                <PopupDialog title={'Share Code'} open={this.state.modalOpen}\n                             handleModalClose={this.handleModalClose}>\n                    <div className={classes.dialogContainer}>\n                        <div>\n                            <TextField spellCheck={ false } inputRef={ref => this.inputRef = ref} label=\"Share Code\" value={value}>\n                            </TextField>\n                            <Button color=\"inherit\" className={classes.inlineDialogButton} onClick={\n                                () => new Promise(resolve => {\n                                    this.inputRef.select();\n                                    document.execCommand('copy');\n                                    resolve(true);\n                                }).then(a => {\n                                    this.setState({statusMessage: 'Copied!'}, () => {\n                                        setTimeout(() => {\n                                            this.setState({statusMessage: ''});\n                                        }, 3000);\n                                    });\n                                })}\n                            >\n                                <FileCopyIcon/>\n                                <div className={classes.label}>Copy</div>\n                            </Button>\n                        </div>\n                        {useExperimentalFeature('sti' ? <Button color=\"inherit\" className={classes.dialogButton} fullWidth>\n                            <div className={classes.label}>Generate Image</div>\n                        </Button> : null)}\n                        <div className={classes.statusMessage}>\n                            {this.state.statusMessage}\n                        </div>\n                    </div>\n                </PopupDialog>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(ShareButton);","import React from 'react';\nimport {Typography, withStyles} from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport IconButton from '@material-ui/core/IconButton';\nimport Slider from '@material-ui/lab/Slider';\nimport {updateNodeTierExternal, wheelZoomCalculation} from \"./GraphSvg/nodeActions\";\nimport * as d3 from 'd3';\n\nconst drawerWidth = 310;\n\nconst styles = theme => ({\n    root: {},\n    formControl: {\n        maxWidth: drawerWidth,\n    },\n    paper: {\n        position: 'absolute',\n        left: drawerWidth + 20,\n        bottom: 20,\n        margin: 16,\n        padding: 12,\n        minWidth: drawerWidth - 100,\n    },\n    textField: {\n        paddingBottom: 10,\n    },\n    button: {},\n    label: {\n        paddingLeft: 10,\n    },\n    slider: {\n        padding: '10px',\n    },\n    overclock: {\n        paddingLeft: 10,\n    },\n});\n\nclass SelectorPanel extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {dummy: false, sliderValue: this.props.selected.overclock};\n    }\n\n    debounce = (func, wait, immediate) => {\n        var timeout;\n\n        return function executedFunction() {\n            var context = this;\n            var args = arguments;\n\n            var later = function() {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            };\n\n            var callNow = immediate && !timeout;\n\n            clearTimeout(timeout);\n\n            timeout = setTimeout(later, wait);\n\n            if (callNow) func.apply(context, args);\n        };\n    };\n\n    update = () => {\n        if (this.props.selected.machine) {\n            const el = d3.select('#' + 'node-level-accessor-' + this.props.selected.id);\n            updateNodeTierExternal(el);\n\n            this.props.selected.overclock = this.state.sliderValue;\n            const el2 = d3.select('#' + 'node-overclock-accessor-' + this.props.selected.id);\n            wheelZoomCalculation.call(this, this.props.selected, this.state.sliderValue, el2);\n        } else {\n            // it's a path\n            const el = d3.select('#' + 'path-parent' + this.props.selected.source.id + '-' + this.props.selected.target.id);\n            updateNodeTierExternal(el);\n        }\n    };\n\n    debouncedUpdate = this.debounce(() => {\n        this.update();\n    }, 200);\n\n    upgrade = () => {\n        const instance = this.props.selected.instance;\n        let index = this.props.selected.upgradeTypes.indexOf(instance);\n        const n = this.props.selected.upgradeTypes.length;\n        index = (index + 1);\n        if (index >= n) return;\n        this.props.selected.instance = this.props.selected.upgradeTypes[index];\n        this.update();\n\n        this.setState({dummy: !this.state.dummy});\n    };\n\n    downgrade = () => {\n        const instance = this.props.selected.instance;\n        let index = this.props.selected.upgradeTypes.indexOf(instance);\n        const n = this.props.selected.upgradeTypes.length;\n        index = index - 1;\n\n        if (index < 0) return;\n\n        this.props.selected.instance = this.props.selected.upgradeTypes[index];\n        this.update();\n\n        this.setState({dummy: !this.state.dummy});\n    };\n\n    changeSlider = (event, value) => {\n        this.setState({sliderValue: value}, () => {\n            this.debouncedUpdate();\n        });\n    };\n\n\n\n    render() {\n        console.log(this.props.selected)\n        const {classes, label} = this.props;\n        return (\n            <Paper className={classes.paper}>\n                <Typography variant='h5'>{label}</Typography>\n                <Typography variant=\"body1\">\n                <IconButton color=\"secondary\" className={classes.button} onClick={this.downgrade}>\n                    <ArrowDownwardIcon/>\n                </IconButton>\n                {this.props.selected.instance.name}\n                <IconButton color=\"primary\" className={classes.button} onClick={this.upgrade}>\n                    <ArrowUpwardIcon/>\n                </IconButton>\n                </Typography>\n                {this.props.overclock !== -1 && this.props.selected.machine.name !== 'Container' && this.props.selected.machine.name !== 'Logistic' ?\n                    <React.Fragment>\n                        <Typography id=\"label\" className={classes.overclock} variant=\"body1\">Overclock: {this.state.sliderValue}%</Typography>\n                        <Slider\n                            classes={{ root: classes.slider }}\n                            value={this.state.sliderValue}\n                            min={0}\n                            max={250}\n                            step={1}\n                            onChange={this.changeSlider}\n                        />\n                    </React.Fragment>\n\n\n                    : null}\n\n            </Paper>\n        );\n    }\n}\n\nexport default withStyles(styles)(SelectorPanel);","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {createMuiTheme, MuiThemeProvider, withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport InfoIcon from '@material-ui/icons/Info';\nimport * as ReactGA from 'react-ga';\n\nimport WarningIcon from '@material-ui/icons/Warning';\nimport OfflineBoltIcon from '@material-ui/icons/OfflineBolt';\nimport SettingsInputComponentIcon from '@material-ui/icons/SettingsInputComponent';\n\nimport Button from '@material-ui/core/Button';\nimport Loader from './Loader';\nimport GraphSvg from './GraphSvg';\n\nimport SidebarButton from './SidebarButton';\nimport FabPopup from './FabPopup';\nimport SidebarPopup from './SidebarPopup';\nimport NestedSidebarButton from './NestedSidebarButton';\nimport SimpleSidebarButton from './SimpleSidebarButton';\nimport SidebarPanel from './SidebarPanel';\nimport ClearButton from './ClearButton';\nimport ShareButton from './ShareButton';\nimport SelectorPanel from './SelectorPanel';\nimport {loadHash, useExperimentalFeature} from \"./GraphSvg/util\";\n\nimport firebase from 'firebase/app'\nimport 'firebase/database'\nimport 'firebase/auth'\n\nconst drawerWidth = 310;\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n        flexGrow: 1,\n        flexBasis: 'auto',\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n        display: 'flex',\n        paddingTop: 64,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n        position: 'unset'\n    },\n    drawerTitle: {\n        paddingLeft: 15,\n        paddingTop: 5,\n    },\n    content: {\n        display: 'flex',\n        flexGrow: 1,\n        paddingTop: 64,\n    },\n    toolbar: theme.mixins.toolbar,\n    logo: {\n        width: drawerWidth,\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    pathIcon: {\n        height: 15,\n        width: 15,\n        display: 'inline-block'\n    },\n    pathText: {\n        display: 'inline-block'\n    },\n    paper: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n    },\n    button: {\n        flex: '0 0 100%',\n    },\n    label: {\n        paddingLeft: 10,\n    },\n    inlineDialogButton: {\n        paddingTop: 10,\n        paddingBottom: 10,\n    },\n    dialogButton: {\n        marginTop: 10,\n    },\n    dialogContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    clearButton: {\n        paddingTop: 20,\n    },\n});\n\nconst palette = {\n    primary: { main: '#FF9100' },\n    secondary: { main: '#FF3D00', contrastText: '#FAFAFA' }\n};\n\nconst themeName = 'Pizazz Vermilion Gayal';\n\nconst theme = createMuiTheme({ typography: {\n        useNextVariants: true,\n    }, palette, themeName: themeName});\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loaded: false\n        };\n    }\n\n    getRefkeyTableFireBase(table) {\n        const db = this.state.fbdb;\n        const tableRef = db.ref('/' + table);\n        return new Promise(resolve => tableRef.once(\"value\").then(results => resolve(results.val())));\n    }\n\n    generateRecursiveStructureFireBase(startingTable) {\n        const db = this.state.fbdb;\n        const starting = db.ref('/' + startingTable);\n        this.globalStructure = this.globalStructure || {};\n        const globalStructure = this.globalStructure;\n\n        return starting.once(\"value\").then(item => item.val()).then( async results => {\n            if (results.length > 0) {\n                globalStructure[startingTable] = results;\n                const refKeysToProcess = Object.keys(results[0]).filter(str => str.endsWith('_id'));\n\n                while (refKeysToProcess.length > 0) {\n                    const refKey = refKeysToProcess.pop();\n                    const tableName = refKey.slice(0, -3);\n                    if (!globalStructure[tableName]) {\n                        globalStructure[tableName] = await this.getRefkeyTableFireBase(tableName);\n                        Object.keys(globalStructure[tableName]).filter(str => str.endsWith('_id'))\n                            .forEach(name => {\n                                if (!globalStructure[name.slice(0, -3)]) {\n                                    refKeysToProcess.push(name);\n                                }\n                            });\n                    }\n                }\n\n                const recursiveFind = (element, functionToApply) => {\n                    if (Array.isArray(element)) {\n                        element.forEach((elem, index) => {\n                            const shouldChangeThis = recursiveFind(elem, functionToApply);\n                            if (shouldChangeThis) {\n                                console.error('Why are we doing this to an array?');\n                                element[index] = functionToApply(elem);\n                            }\n                        });\n                        return false;\n                    } else if (typeof element === 'object') {\n                        Object.keys(element).forEach(key => {\n                            const elem = element[key];\n\n                            const shouldChangeThis = recursiveFind(elem, functionToApply);\n                            if (shouldChangeThis) {\n                                functionToApply(elem, key, element);\n                            }\n                        });\n                        return false;\n                    } else {\n                        return true;\n                    }\n                };\n\n                Object.keys(globalStructure).forEach(key => {\n                    const rows = globalStructure[key];\n\n                    rows.forEach(row => {\n                        Object.keys(row).filter(str => str.endsWith('_id')).forEach(rowKey => {\n                            const refId = row[rowKey];\n                            const tableName = rowKey.slice(0, -3);\n                            const associatedData = globalStructure[tableName];\n                            delete row[rowKey];\n                            const possibleData = associatedData.filter(elem => elem.id === refId);\n                            if (possibleData.length === 1) {\n                                row[tableName] = possibleData[0];\n                            } else {\n                                throw new Error('Unrecognized Id ' + refId + ' in ' + rowKey + ' within ' + key);\n                            }\n                        });\n                    });\n                });\n\n                Object.keys(globalStructure).forEach(key => {\n                    const rows = globalStructure[key];\n                    rows.forEach(row => {\n                        Object.keys(row).filter(str => str.endsWith('_id')).forEach(rowKey => {\n                            const refId = row[rowKey];\n                            const tableName = rowKey.slice(0, -3);\n                            const associatedData = globalStructure[tableName];\n                            delete row[rowKey];\n\n                            const possibleData = associatedData.filter(elem => elem.id === refId);\n                            if (possibleData.length === 1) {\n                                row[tableName] = possibleData[0];\n                            } else {\n                                throw new Error('Unrecognized Id ' + refId + ' in ' + rowKey + ' within ' + key);\n                            }\n                        });\n                        Object.keys(row).filter(str => !str.endsWith('_id')).forEach(rowKey => {\n                            const rowValue = row[rowKey];\n                            const replaceTable = (id, id_name, object) => {\n                                if (!id_name.endsWith('_id')) {\n                                    if (typeof object[id_name] === 'string' && object[id_name].startsWith('http')) {\n                                        const img = new Image();\n                                        img.src = object[id_name];\n                                    }\n                                    return;\n                                }\n\n                                const refId = id;\n                                const tableName = id_name.slice(0, -3);\n                                const associatedData = globalStructure[tableName];\n                                delete object[id_name];\n\n                                const possibleData = associatedData.filter(elem => elem.id === refId);\n                                if (possibleData.length === 1) {\n                                    object[tableName] = possibleData[0];\n                                } else {\n                                    throw new Error('Unrecognized Id ' + refId + ' in table ' + id_name + ' within ' + object);\n                                }\n                            };\n                            recursiveFind(rowValue, replaceTable);\n                        });\n                    });\n                });\n            }\n\n            return globalStructure;\n        })\n    }\n\n    componentDidMount() {\n        ReactGA.initialize('UA-136827615-1');\n        ReactGA.pageview(window.location.pathname + window.location.search);\n        window.addEventListener(\"hashchange\", () => {\n            document.location.reload();\n        }, false);\n\n        loadHash().then(data => {\n            this.setState({coreGraphData: data}, () => {\n\n                const firebaseInstance = firebase.initializeApp({\n                    apiKey: \"AIzaSyC6qyWIC6Yvc3NmTXYUzQ-jcFE1p3VsKX4\",\n                    authDomain: \"satisgraphtory.firebaseapp.com\",\n                    databaseURL: \"https://satisgraphtory.firebaseio.com\",\n                    projectId: \"satisgraphtory\",\n                    storageBucket: \"satisgraphtory.appspot.com\",\n                    messagingSenderId: \"463653345773\"\n                });\n\n                const fbdb =  firebaseInstance.database();\n\n                this.setState({fbdb, loaded: true}, () => {\n\n                        const generate = (name, cb = () => {}) => {\n                            return () => {\n                                return this.generateRecursiveStructureFireBase(name).then(data => {\n                                    this.setState({[name]: data}, () => {\n                                        console.debug(\"Loaded\", name);\n                                        cb();\n                                    });\n                                });\n                            }\n                        };\n\n                        let wrappedFunction = () => {\n                            this.setState({isLoaded: true})\n                        };\n                        const list = ['spring', 'recipe', 'path_type','machine_node', 'player_unlock', 'machine_class', 'item', 'spring_type', 'purity_type', 'node_type', 'machine_version', \"machine_class\"];\n\n                        list.forEach(item => {\n                            wrappedFunction = generate(item, wrappedFunction);\n                        });\n\n                        wrappedFunction();\n\n\n                        // const gen = generate('player_unlock', generate('item', generate('recipe',\n                        //     generate('machine_class',  generate('machine_node',  generate('machine_version',  generate('spring',\n                        //\n                        //         generate('path_type',  generate('purity_type',   )\n                        //         )))))));\n                        // gen();\n\n                //     return this.generateRecursiveStructureFireBase('player_unlock').then(player_unlock => {\n                //         this.setState({player_unlock}, () => {\n                //             return this.generateRecursiveStructureFireBase('recipe').then(recipe => {\n                //                 this.setState({recipe}, () => {\n                //                     return this.generateRecursiveStructureFireBase('machine_class').then(machine_node => {\n                //                     return this.generateRecursiveStructureFireBase('machine_node').then(machine_node => {\n                //                 //         this.setState({machine_node}, () => {\n                //                 //             return this.generateRecursiveStructureFireBase('spring').then(spring => {\n                //                 //                 this.setState({spring}, () => {\n                //                 //                     return this.generateRecursiveStructureFireBase('path_type').then(path_type => {\n                //                 //                         this.setState({path_type}, () => {\n                //                 //                             return this.generateRecursiveStructureFireBase('purity_type').then(purity_type => {\n                //                 //                                 this.setState({purity_type, isLoaded: true});\n                //                 //                             });\n                //                 //                         });\n                //                 //                     });\n                //                 //                 });\n                //                 //             });\n                //                 //         });\n                //                     });\n                //                 });\n                //             });\n                //         });\n                //     });\n                // });\n\n                // ref.once(\"value\", function(data) {\n                //     const stateObject = {isLoaded: true, loaded: true };\n                //     const endObject = {};\n                //     const dataFull = data.val();\n                //     Object.keys(data.val()).forEach(key => {\n                //         endObject[key] = dataFull[key];\n                //     });\n                //\n                //     Object.keys(data.val()).forEach(key => {\n                //         stateObject[key] = endObject;\n                //     });\n                //\n                //     console.log(stateObject);\n                //     tVar.setState(stateObject);\n                // });\n\n\n\n                // createDatabase().then((db) => {\n                //     this.setState({db, loaded: true});\n                // }).then(() => {\n                //     return this.generateRecursiveStructure('player_unlock').then(player_unlock => {\n                //         this.setState({player_unlock}, () => {\n                //             return this.generateRecursiveStructure('recipe').then(recipe => {\n                //                 this.setState({recipe}, () => {\n                //                     return this.generateRecursiveStructure('machine_node').then(machine_node => {\n                //                         this.setState({machine_node}, () => {\n                //                             return this.generateRecursiveStructure('spring').then(spring => {\n                //                                 this.setState({spring}, () => {\n                //                                     return this.generateRecursiveStructure('path_type').then(path_type => {\n                //                                         this.setState({path_type}, () => {\n                //                                             return this.generateRecursiveStructure('purity_type').then(purity_type => {\n                //\n                //                                                 this.setState({purity_type, isLoaded: true});\n                //                                             });\n                //                                         });\n                //                                     });\n                //                                 });\n                //                             });\n                //                         });\n                //                     });\n                //                 });\n                //             });\n                //         });\n                //     });\n                // });\n\n\n\n                 });\n            });\n        });\n        // saveHash({data: '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'});\n    }\n\n    generateNodeList() {\n        const recipesByMachineClass = {};\n        const machineClassPlural = {};\n        this.state.recipe && this.state.recipe.recipe.forEach(recipe => {\n            const thisList = recipesByMachineClass[recipe.machine_class.name] || [];\n            thisList.push(recipe);\n            recipesByMachineClass[recipe.machine_class.name] = thisList;\n            machineClassPlural[recipe.machine_class.name] = recipe.machine_class.plural;\n        });\n        return Object.keys(recipesByMachineClass).map(key =>\n            <SidebarButton appObject={this} label={machineClassPlural[key]} key={key}\n                           items={recipesByMachineClass[key]}/>\n        );\n    }\n\n    generateContainerList() {\n        const springByClass = {};\n        this.state.purity_type && this.state.spring && this.state.spring.spring.forEach(spring => {\n            const thisList = springByClass[spring.spring_type.name] || [];\n            thisList.push(spring);\n            springByClass[spring.spring_type.name] = thisList;\n        });\n\n        // Manually handle splitters and mergers\n        springByClass['Logistic'] = this.state.machine_node.machine_node.filter(elem => elem.machine_class.name === 'Logistic');\n\n\n        return (\n            <React.Fragment>\n                <SimpleSidebarButton label=\"Logistics\" appObject={this} listItems={springByClass}/>\n            </React.Fragment>\n\n        );\n    }\n\n    generateUnlocksList() {\n        const dataList = [];\n        this.state.player_unlock && this.state.player_unlock.player_unlock.forEach(player_unlock => {\n            const item = this.state.recipe.recipe.filter(elem => elem.player_unlock && (elem.player_unlock.id === player_unlock.id))[0];\n            if (item) {\n                // dataList.push({player_unlock, item});\n            }\n        });\n        return (\n            <div>hello</div>\n        );\n    }\n\n    generateSpringList() {\n        this.generateUnlocksList();\n        const springByClass = {};\n        this.state.spring && this.state.spring.spring.forEach(spring => {\n            const thisList = springByClass[spring.spring_type.name] || [];\n            thisList.push(spring);\n            springByClass[spring.spring_type.name] = thisList;\n        });\n        return (\n            <NestedSidebarButton label='Miners' listItems={springByClass} appObject={this}/>\n        );\n    }\n\n    render() {\n        const {classes} = this.props;\n        if (!this.state.isReady) {\n            return <Loader ready={this.state.isLoaded} parentState={this}/>;\n        }\n        const t = this;\n\n        return <div className={classes.root}>\n\n            <CssBaseline/>\n            <MuiThemeProvider theme={theme}>\n                <AppBar position=\"fixed\" className={classes.appBar}>\n                    <Toolbar>\n                        <img alt=\"wow so satis factory\" className={classes.logo}\n                             src=\"https://raw.githubusercontent.com/rhocode/rhocode.github.io/master/img/satisgraphtory.png\"\n                             title=\"logo\"/>\n                        <div className={classes.grow} />\n                        {useExperimentalFeature('opt') ? <Button color=\"inherit\" onClick={() => t.graphSvg.optimize()}>\n                            <OfflineBoltIcon/>\n                            <div className={classes.label}>Optimize</div>\n                        </Button> : null }\n                        <Button color=\"inherit\" onClick={() => t.graphSvg.analyze()}>\n                            <SettingsInputComponentIcon/>\n                            <div className={classes.label}>Analyze</div>\n                        </Button>\n                        <ShareButton t={t}/>\n                        {/*<LoadButton t={t}/>*/}\n                        <ClearButton t={t}/>\n                    </Toolbar>\n                </AppBar>\n\n                <FabPopup>\n                    <Typography variant=\"h4\">Welcome to SatisGraphtory!</Typography>\n                    <Typography variant=\"body1\">Thanks for checking out our tool! If you have any questions, suggestions, or feedback, feel free to join our <a href={\"https://discord.gg/ZRpcgqY\"}>Discord server</a>! We're always looking to add more\n                    functionality!</Typography>\n                    <br />\n                    <Typography variant=\"h5\">This tool will always be free.</Typography>\n                    <Typography variant=\"body1\">If you would like to contribute, contact us on Discord! We'd love your help!</Typography>\n                    <br />\n                    <Typography variant=\"h5\">Graph Basics</Typography>\n                    <ul>\n                        <li><Typography variant=\"body1\">Use the <b>left menu</b> to <b>add</b> machines to the diagram</Typography>\n                        </li>\n                        <li><Typography variant=\"body1\"><b>CLICK</b> on a node/path to <b>select</b> it</Typography></li>\n                        <li><Typography variant=\"body1\">Press <b>BACKSPACE</b> on a selected node/path to delete\n                            it</Typography></li>\n                        <li><Typography variant=\"body1\">Hold down <b>SHIFT</b> and <b>drag</b> from node to node to create belts</Typography></li>\n                        <li><Typography variant=\"body1\">Use <b>MOUSE SCROLL</b> to control overclock (black text in the\n                            white circle)</Typography></li>\n                    </ul>\n                    <Typography variant=\"h5\">Sharing</Typography>\n                    <Typography variant=\"body1\">Generate a share code by using the Share button in the top right.</Typography>\n                    <br/>\n                    <Typography variant=\"h5\">Legend</Typography>\n                    <Typography variant=\"body1\"><span style={{'color': 'orange'}}>Orange</span> numbers means the machine wastes time doing nothing.</Typography>\n                    <Typography variant=\"body1\"><span style={{'color': 'LightCoral'}}>Red</span> numbers means the machine isn't processing fast enough.</Typography>\n                    <Typography variant=\"body1\"><span style={{'color': 'Blue'}}>Blue</span> numbers means the belt capacity was overridden (and you need to fix it ASAP!)</Typography>\n                    <br/>\n                    {/*<Typography variant=\"body1\">Special thanks to the following testers: GeekyMeerkat, Stay, HartWeed, safken, marcspc, Laugexd</Typography>*/}\n                    <Typography variant=\"body1\">Revisit these instructions anytime by clicking on the <b>?</b> in the bottom right.</Typography>\n\n                </FabPopup>\n                {(this.state.selectedNode && this.state.selectedNode.machine.name === 'Container') ||(this.state.selectedNode && this.state.selectedNode.upgradeTypes.length > 1) || (this.state.selectedPath && this.state.selectedPath.upgradeTypes\n                    && this.state.selectedPath.upgradeTypes.length > 1) ?\n                    <SelectorPanel label='Options' graphSvg={this.graphSvg}\n                                   overclock={this.state.selectedNode ? this.state.selectedNode.overclock : -1} selected={this.state.selectedNode || this.state.selectedPath}/> : null}\n                <Drawer\n                    className={classes.drawer}\n                    variant=\"permanent\"\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                >\n                    <List>\n                        <Typography variant=\"h5\" className={classes.drawerTitle}>Nodes</Typography>\n                        {this.generateNodeList()}\n                        {this.generateSpringList()}\n                        {this.generateContainerList()}\n                    </List>\n                    <Divider/>\n\n                    <SidebarPanel parentState={this} playerUnlock={this.state.player_unlock}/>\n\n                    <Divider/>\n\n                    <List>\n                        <SidebarPopup Icon={InfoIcon} label='About/Disclaimers' title='About/Disclaimers'>\n                            <Typography variant=\"body1\">Created by <a href=\"https://github.com/tehalexf\">Alex</a> and <a\n                                href=\"https://github.com/thinkaliker\">Adam</a> (<a\n                                href=\"https://twitter.com/thinkaliker\">@thinkaliker</a>).</Typography>\n                            <Typography variant=\"body1\">Not officially affiliated with Satisfactory, Coffee Stain\n                                Studios AB, or THQ Nordic AB.</Typography>\n                            <Typography variant=\"body1\">Images sourced from the Satisfactory Wiki, which is sourced from\n                                Coffee Stain Studios AB's Satisfactory.</Typography>\n                        </SidebarPopup>\n                        <SidebarPopup Icon={WarningIcon} label='Known Issues' title='Known Issues'>\n                            <ul>\n                                <li>Resource nodes do not have purities displayed on the graph.</li>\n                                <li>No option yet to hide belt and factory numbers.</li>\n                            </ul>\n                        </SidebarPopup>\n                    </List>\n                </Drawer>\n                <div id=\"svgParent\" className={classes.content}>\n                    {this.state.loaded ? <GraphSvg parentAccessor={this} ref={(graphSvg) => {\n                        t.graphSvg = graphSvg;\n                    }}/> : <div/>}\n                </div>\n            </MuiThemeProvider>\n        </div>;\n    }\n}\n\nApp.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);\n","// PACKAGE DEPENDENCIES\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'normalize.css';\nimport './styles/app.scss';\n\n// COMPONENTS\n\n// STYLES\n\n\nReactDOM.render(<App/>, document.getElementById('app'));"],"sourceRoot":""}